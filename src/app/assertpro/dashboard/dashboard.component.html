<!-- <app-fixedmenubar #fixedmenubarComponent></app-fixedmenubar>
<app-fixedsidebar></app-fixedsidebar> -->
<div *ngIf="loader || loader_two || loader3 " class="loading-indicator">
  <mat-spinner class="spinner-style" mode="indeterminate" color="accent"></mat-spinner>
</div>
<div [ngClass]="{'dash-body-scroll-hide':(loader3 || loader_two || loader)}"  class="dash-body" > 
  <div class="container-fluid">
    <div class="row">
      <!-- Stat overview month coloumns -->
      <div class="col-sm-1 col-md-2 col-lg-2 col-xl-2"></div>
      <div class="col-sm-10 col-md-9 col-lg-9 col-xl-9">

        <div class="row common-center" *ngIf="!equipment && !chargesEnable && !batteriesEnable">
          <div class="col-md-12 form-group text-center">
              <h6 class="dash-h6" *ngIf="siteName!='All Sites'">No product has been assigned to this site. Please assign any product to this site first.</h6>
              <h6 class="dash-h6" *ngIf="siteName=='All Sites'">No product has been assigned, Please assign any product.</h6>
      
          </div>
        </div>

        <div class="row" *ngIf="siteidisget=='All Sites' && (equipment || batteriesEnable || chargesEnable)">
          <div class="col-10 col-sm-7 col-md-8 col-xl-9 ">
            <h6 class="dash-h6">STATS OVERVIEW OF
              <div id="stateOverviewDropDown" class="btn-group btn-align-group-two month-filter-dropdown" dropdown> <a id="button-basics"
                  dropdownToggle aria-controls="dropdown-basic">
                  {{stateOverview}} 
                </a>
                <ul id="dropdown-basic" *dropdownMenu role="menu" aria-labelledby="button-basics"
                  class="dropdown-menu dropdown-menu-right filter-dropdownList">
                  
                  <div *ngFor="let type of stateOverviewType;let i=index">
                    <div id="stateOverviewDropDown{{i}}" (click)="loadAllSitesStates(type)" class="alarm-txt filter-dropdownList-height" 
                     [ngClass]="{'active-alarmmenu':type==stateOverview}">{{type}}</div>
                  </div>
                  <!-- </div> -->
                </ul>
              </div>


            
            </h6>
          </div>
          <div class="col-4 col-sm-5 col-md-4 col-xl-3 d-none d-sm-block  text-right">
            <a class="create-btn create-btn-alignment"><img src="assets/icon/create-report.png"
                class="create-report-img">Create
              report</a>

            &nbsp;&nbsp;&nbsp;&nbsp;
          </div>
          <div class="d-block d-sm-none col-2 col-md-4 col-xl-3  text-right">
            <img src="assets/icon/create-report.png" class="create-report-img">

            &nbsp;&nbsp;&nbsp;&nbsp;
          </div>
        </div>
        <h6 *ngIf="siteidisget=='All Sites' && equipment" class="dash-h6">EQUIPMENT
          <mat-checkbox class="mat-checkbox-align ml-3 mt-3 mr-4" [(ngModel)]="showcritical"
          (ngModelChange)="showCritical()"><span class="mt-3 ml-2 show-critical-text">
            Show only critical </span></mat-checkbox>
        </h6>
        <div class="row" *ngIf="siteidisget=='All Sites' && equipment">
          <!-- old table code -->
          <!-- <div class="col-md-12">
            <div class="dash-box table-scroll">
              <table matSort matSortActive="UsageTime" matSortDirection="asc" matSortDisableClear
                (matSortChange)="sortData($event)" cellspacing="0" cellpadding="0" class="stat-overview-table">
                <thead>
                  <tr>
                    <th style="padding-left: 2%" (click)="siteNameChange()" mat-sort-header="SiteName"
                      [ngClass]="{'head-color':headerField=='SiteName'?true:false}">Site name
                      <span>
                        <img class="table-down-arrow" *ngIf="!siteNameSort" src="assets/icon/dropdown-teal-ic.png" />
                        <img class="table-down-arrow" *ngIf="siteNameSort" src="assets/icon/dropdown-teal-ic2.png" />
                      </span></th>
                      <th (click)="unitsChange()" mat-sort-header="Units"
                      [ngClass]="{'head-color':headerField=='Units'?true:false}">Units
                      <span>
                        <img class="table-down-arrow" *ngIf="!Units" src="assets/icon/dropdown-teal-ic.png" />
                        <img class="table-down-arrow" *ngIf="Units" src="assets/icon/dropdown-teal-ic2.png" />
                      </span></th>
                    <th (click)="UsageTimeChange()" mat-sort-header="UsageTime"
                      [ngClass]="{'head-color':headerField=='UsageTime'?true:false}" class="usage-time">Usage time
                      <span>
                        <img class="table-down-arrow" *ngIf="!UsageTimeSort" src="assets/icon/dropdown-teal-ic.png" />
                        <img class="table-down-arrow" *ngIf="UsageTimeSort" src="assets/icon/dropdown-teal-ic2.png" />
                      </span></th>
                    <th (click)="IdlingTimeChange()" mat-sort-header="IdlingTime" class="idling-time"
                      [ngClass]="{'head-color':headerField=='IdlingTime'?true:false}">Idling time
                      <span>
                        <img class="table-down-arrow" *ngIf="!IdlingTime" src="assets/icon/dropdown-teal-ic.png" />
                        <img class="table-down-arrow" *ngIf="IdlingTime" src="assets/icon/dropdown-teal-ic2.png" />
                      </span></th>
                    <th (click)="MaintWeightageChange()" mat-sort-header="MaintWeightage"
                      [ngClass]="{'head-color':headerField=='MaintWeightage'?true:false}">Maint. overdue
                      <span>
                        <img class="table-down-arrow" *ngIf="!MaintWeightage" src="assets/icon/dropdown-teal-ic.png" />
                        <img class="table-down-arrow" *ngIf="MaintWeightage" src="assets/icon/dropdown-teal-ic2.png" />
                      </span></th>
                    <th (click)="AlarmWeightageChange()" mat-sort-header="AlarmWeightage"
                      [ngClass]="{'head-color':headerField=='AlarmWeightage'?true:false}"> Total alarms
                      <span>
                        <img class="table-down-arrow" *ngIf="!AlarmWeightage" src="assets/icon/dropdown-teal-ic.png" />
                        <img class="table-down-arrow" *ngIf="AlarmWeightage" src="assets/icon/dropdown-teal-ic2.png" />
                      </span></th>
                    <th (click)="ComplianceWeightageChange()" mat-sort-header="ComplianceWeightage"
                      [ngClass]="{'head-color':headerField=='ComplianceWeightage'?true:false}">Safety compliance
                      <span>
                        <img class="table-down-arrow" *ngIf="!ComplianceWeightage"
                          src="assets/icon/dropdown-teal-ic.png" />
                        <img class="table-down-arrow" *ngIf="ComplianceWeightage"
                          src="assets/icon/dropdown-teal-ic2.png" />
                      </span></th>
                    <th (click)="AdminNameChange()" mat-sort-header="AdminName"
                      [ngClass]="{'head-color':headerField=='AdminName'?true:false}">Person in charge
                      <span>
                        <img class="table-down-arrow" *ngIf="!AdminName" src="assets/icon/dropdown-teal-ic.png" />
                        <img class="table-down-arrow" *ngIf="AdminName" src="assets/icon/dropdown-teal-ic2.png" />
                      </span></th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of stateOverviewDatas| slice:0:5; let ind=index;">
                    <td style="cursor:pointer;padding-left: 2%">
                      <div (click)="siteidis(item)" matTooltip="{{item.SiteName}}">
                        {{item.SiteName?.length>20?item.SiteName.substring(0,20)+'...':item.SiteName}}
                      </div>
                    </td>
                    <td>
                      <div class="row">
                        <div class="col-xl-8 col-lg-8 col-md-5 col-sm-3 col-3"
                          style="text-align: center;">
                          {{item.Units}}
                        </div>
                      </div>
                    </td>
                    <td style="cursor:pointer">
                      <div class="hover-dropdown">
                        <div class="row">
                          <div class="pr-0 text-center col-xl-5 col-lg-5 col-md-5 col-sm-5 col-5"><span
                              [ngStyle]="{'color':item.UsageTimeExpected>item.UsageTime || item.UsageTime<70? '#ea4256' : 'black' }">{{item.UsageTime}}%
                            </span></div>
                          <div class="pl-0 col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6"><span>
                              <img *ngIf="item.UsageTimeExpected>=item.UsageTime && stateOverview!='LAST THREE MONTHS'"
                                src="assets/icon/td-arrow-down.png" class="create-report-img">
                              <img *ngIf="item.UsageTimeExpected<item.UsageTime  && stateOverview!='LAST THREE MONTHS'"
                                src="assets/icon/td-arrow-up.png" class="create-report-img">
                            </span></div>
                        </div>

                        <div class="hover-div usage-div hover-div-first"
                          [ngClass]="{'usage-time-hover':(stateOverviewDatas.length-4)<=(ind)}">
                          <div class="hover-div-point"
                            [ngClass]="{'usage-time-hover-point':(stateOverviewDatas.length-4)<=(ind)}"></div>
                          <div class="row m-t-25 pad-0-15">
                            <div class="col-md-5 form-group">
                              <p style="margin-left: 24px;"
                                [ngStyle]="{'color':item.UsageTimeExpected>item.UsageTime || item.UsageTime<70 ? '#ea4256' : 'black' }">
                                {{item.UsageTime}}%</p>
                              <p style="margin-left: 24px;" class="span-label1">TOTAL</p>
                            </div>
                            <div class="col-md-7 form-group text-left">
                              <p>{{item.UsageTimeExpected}}%</p>
                              <p class="span-label1">EXPECTED</p>
                            </div>
                            <div class="col-md-5 form-group text-left pad-l-40">
                              <p class="span-label2">Most used :</p>
                            </div>
                            <div class="col-md-7 form-group text-left">
                              <p class="span-label3">{{item.MostUsedAT}}</p>
                            </div>
                            <div class="col-md-5 form-group text-left pad-l-40">
                              <p class="span-label2">Most unused :</p>
                            </div>
                            <div class="col-md-7 form-group text-left">
                              <p class="span-label3">{{item.MostUnUsedAT}}</p>
                            </div>
                          </div>
                          <div class="hover-div-footer">View details >></div>
                        </div>
                      </div>
                    </td>
                    <td style="cursor:pointer">
                      <div class="hover-dropdown text-left">
                        <div class="row">
                          <div class="pr-0 text-center col-xl-5 col-lg-5 col-md-5 col-sm-5 col-5"><span
                              [ngStyle]="{'color':item.IdlingTime>20? '#ea4256' : 'black' }">{{item.IdlingTime}}%</span>
                          </div>
                          <div class="pl-0 col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6"><span>
                              <img *ngIf="item.PreIdlingTime>=item.IdlingTime && stateOverview!='LAST THREE MONTHS'"
                                src="assets/icon/td-arrow-up.png" class="create-report-img">
                              <img *ngIf="item.PreIdlingTime<item.IdlingTime  && stateOverview!='LAST THREE MONTHS'"
                                src="assets/icon/td-arrow-down.png" class="create-report-img">
                            </span></div>
                        </div>
                      </div>
                    </td>
                    <td>
                      <div class="row">
                        <div class="col-xl-8 col-lg-8 col-md-5 col-sm-3 col-3" style="text-align: center;">
                          <span
                            [ngStyle]="{'color':item.MaintWeightage>5? '#ea4256' : 'black' }">{{item.MaintWeightage}}</span>
                        </div>

                      </div>
                    </td>
                    <td style="cursor: pointer" (mouseenter)="openAlarmsAllSite(item)">
                      <div class="row">
                        <div class="col-xl-8 col-lg-8 col-md-5 col-sm-3 col-3 hover-dropdown"
                          style="text-align: center;">
                          <span
                            [ngStyle]="{'color':item.AlarmWeightage>10? '#ea4256' : 'black' }">{{item.AlarmWeightage}}</span>
                          <div class="hover-div alarm-div hover-div-third" style="margin-left:60px;"
                            [ngClass]="{'usage-time-hover':(stateOverviewDatas.length-4)<=(ind)}">
                            <div class="hover-div-point"
                              [ngClass]="{'usage-time-hover-point':(stateOverviewDatas.length-4)<=(ind)}"></div>
                            <div class="row m-t-25 pad-0-25">
                              <div class="col-md-12 form-group text-left">
                                <p class="span-label4">TOP 5 ALARM TYPES</p>
                              </div>
                            </div>
                            <div class="row pad-0-25" *ngFor="let item of popupAlarmAllSiteDatas">
                              <div class="col-md-2 form-group text-left">
                                <p class="span-label5">{{item?.EventTotal}}</p>
                              </div>
                              <div class="col-md-10 form-group text-left">
                                <p class="span-label2">{{item?.EventName}}</p>
                              </div>
                            </div>
                            <div [routerLink]="['/home/notification']" class="hover-div-footer">View details >></div>
                          </div>
                        </div>

                      </div>
                    </td>
                    <td style="cursor:pointer">
                      <div class="row">
                        <div class="col-xl-8 col-lg-8 col-md-5 col-sm-3 col-3 hover-dropdown"
                          style="text-align: center;">
                          <span
                            [ngStyle]="{'color':item.ComplianceWeightage>1? '#ea4256' : 'black' }">{{item.ComplianceWeightage}}</span>
                          <div class="hover-div safety-div hover-div-fourth" style="margin-left: -50px;margin-top: 30px;"
                            [ngClass]="{'usage-time-hover':(stateOverviewDatas.length-4)<=(ind)}">
                            <div class="hover-div-point" style="transform: rotate(319deg);margin-top: -2px;"
                              [ngClass]="{'usage-time-hover-point':(stateOverviewDatas.length-4)<=(ind)}"></div>
                            <div class="row m-t-25 pad-0-25 m-b-25">
                              <div class="col-md-4 form-group">
                                <p>{{item.ComplianceWeightageAlarm}}</p>
                                <p class="span-label1">CHECKLIST ALARMS</p>
                              </div>
                              <div class="col-md-4 form-group">
                                <p>{{item.ComplianceWeightageSkipped}}</p>
                                <p class="span-label1">SKIPPED CHECKLIST</p>
                              </div>
                              <div class="col-md-4 form-group">
                                <p>{{item.ComplianceWeightageShorted}}</p>
                                <p class="span-label1">SHORTED CHECKLIST</p>
                              </div>
                            </div>
                            <div class="hover-div-footer">View details >></div>
                          </div>
                        </div>

                      </div>
                    </td>
                    <td style="cursor:pointer">
                      <div class="row">
                        <div (click)="openPersonIncharge(item)" class="col-xl-8 col-lg-8 col-md-5 col-sm-3 col-3" matTooltip="{{item.AdminName}}"
                          style="text-align: center;">

                          {{item.AdminName?.length>11?item.AdminName.substring(0,11)+'...':item.AdminName}}
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div *ngIf="stateOverviewDatas.length>5" class="show-all-site-txt mt-3 pb-3" (click)="open(item)">Show all
                sites</div>
              <div *ngIf="stateOverviewDatas.length==0" class="show-all-site-txt mt-3 pb-3">No data available</div>
            </div>
          </div> -->

          <!-- new table code -->
          
          <div class="col-md-12">
            <div class="dash-box table-scroll">
              <table mat-table [dataSource]="dataSource" matSort (matSortChange)="sortTable($event)" class="mat-elevation-z8" cellspacing="0"
                cellpadding="0" class="stat-overview-table">

                <ng-container matColumnDef="SiteName">
                  <th class="table-txt-head table-header align-left column-header-align bg-white" [ngClass]="{'highlight':tableName1=='SiteName'}" 
                    mat-header-cell *matHeaderCellDef mat-sort-header >Site Name</th>
                  <td (click)="siteidis(element)" class="table-txt align-left sitenameclass column-first-align" mat-cell *matCellDef="let element" matTooltip="{{element.SiteName}}">
                    {{element.SiteName?.length>22?element.SiteName.substring(0,22)+'...':element.SiteName}}
                  </td>
                </ng-container>
                <ng-container matColumnDef="Units" >
                  <th class="table-txt-head table-header units-column-header bg-white" [ngClass]="{'highlight':tableName1=='Units'}" mat-header-cell
                  *matHeaderCellDef mat-sort-header >Units
                </th>
                <td class="table-txt" mat-cell *matCellDef="let element">
                        {{element.Units}}
                </td>
                </ng-container>
                <ng-container matColumnDef="UsageTime" >
                  <th class="table-txt-head table-header bg-white" [ngClass]="{'highlight':tableName1=='UsageTime'}" 
                  mat-header-cell
                    *matHeaderCellDef mat-sort-header >Usage
                  </th>
                  <td  class="table-txt" mat-cell *matCellDef="let element">
    
                    <div class="hover-dropdown">
                      <span
                            [ngStyle]="{'color':element.UsageTimeExpected>element.UsageTime || element.UsageTime<70? '#ea4256' : 'black' }">{{element.UsageTime}}%</span>
                          <img *ngIf="element.UsageTimeExpected>=element.UsageTime && stateOverview!='LAST THREE MONTHS'"
                          src="assets/icon/td-arrow-down.png" class="create-report-img">
                        <img *ngIf="element.UsageTimeExpected<element.UsageTime  && stateOverview!='LAST THREE MONTHS'"
                          src="assets/icon/td-arrow-up.png" class="create-report-img">
                       
                        <!-- <div class="pl-0 col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6"><span>
                          
                          </span></div> -->
  
                      <div class="hover-div usage-div hover-div-first"
                        [ngClass]="{'usage-time-hover':(stateOverviewDatas.length-4)<=(ind)}">
                        <div class="hover-div-point"
                          [ngClass]="{'usage-time-hover-point':(stateOverviewDatas.length-4)<=(ind)}"></div>
                        <div class="row m-t-25 pad-0-15">
                          <div class="col-md-5 form-group">
                            <p class="margin-24"
                              [ngStyle]="{'color':element?.UsageTimeExpected>element?.UsageTime || element?.UsageTime<70 ? '#ea4256' : 'black' }">
                              {{element?.UsageTime}}%</p>
                            <p class="span-label1 margin-24">ACTUAL</p>
                          </div>
                          <div class="col-md-7 form-group text-left">
                            <p>{{element?.UsageTimeExpected}}%</p>
                            <p class="span-label1">EXPECTED</p>
                          </div>
                          <div class="col-md-5 form-group text-left pad-l-40">
                            <p class="span-label2">Most used :</p>
                          </div>
                          <div class="col-md-7 form-group text-left">
                            <p class="span-label3">{{element?.MostUsedAT}}</p>
                          </div>
                          <div class="col-md-5 form-group text-left pad-l-40">
                            <p class="span-label2">Most unused :</p>
                          </div>
                          <div class="col-md-7 form-group text-left">
                            <p class="span-label3">{{element?.MostUnUsedAT}}</p>
                          </div>
                        </div>
                        <div class="hover-div-footer cursor" (click)="assetNavigation(element)">View details >></div>
                      </div>
                    </div>
                  </td>
                </ng-container>
                <ng-container matColumnDef="IdlingTime">
                  <th class="table-txt-head table-header bg-white" [ngClass]="{'highlight':tableName1=='IdlingTime'}" mat-header-cell
                    *matHeaderCellDef mat-sort-header >Idle
                  </th>
                  <td class="table-txt" mat-cell *matCellDef="let element">
                    <div class="hover-dropdown">
                    <span
                            [ngStyle]="{'color':element.IdlingTime>20? '#ea4256' : 'black' }">{{element?.IdlingTime}}%</span>
                              <img *ngIf="element?.PreIdlingTime>=element?.IdlingTime && stateOverview!='LAST THREE MONTHS'"
                                src="assets/icon/td-arrow-up.png" class="create-report-img">
                              <img *ngIf="element?.PreIdlingTime<element?.IdlingTime  && stateOverview!='LAST THREE MONTHS'"
                                src="assets/icon/td-arrow-down.png" class="create-report-img">                         
                         </div>              
                  </td>
                </ng-container>
                <ng-container matColumnDef="MaintWeightage">
                  <th class="table-txt-head table-header bg-white" [ngClass]="{'highlight':tableName1=='MaintWeightage'}" mat-header-cell
                    *matHeaderCellDef mat-sort-header >Maintenance</th>
                  <td class="table-txt" mat-cell *matCellDef="let element">
                   
                        {{element.MaintWeightage}}
                     
                   
                    <div class="hover-div alarm-div hover-div-third margin-60"
                      [ngClass]="{'usage-time-hover':(dataSource.data.length-4)<=(ind)}">
                      <div class="hover-div-point"
                        [ngClass]="{'usage-time-hover-point':(dataSource.data.length.length-4)<=(ind)}"></div>
                      <div class="row m-t-25 pad-0-25">
                        <div class="col-md-12 form-group text-left">
                          <p class="span-label4">TOP 5 ALARM TYPES</p>
                        </div>
                      </div>
                      <div class="row pad-0-25" *ngFor="let item of popupAlarmAllSiteDatas">
                        <div class="col-md-2 form-group text-left">
                          <p class="span-label5">{{element?.EventTotal}}</p>
                        </div>
                        <div class="col-md-10 form-group text-left">
                          <p class="span-label2">{{element?.EventName}}</p>
                        </div>
                      </div>
                      <div class="hover-div-footer">View details >></div>
                    </div>
                  </td>
                </ng-container>
                <ng-container matColumnDef="AlarmWeightage">
                  <th class="table-txt-head table-header bg-white-with-padding" [ngClass]="{'highlight':tableName1=='AlarmWeightage'}"
                   mat-header-cell
                    *matHeaderCellDef mat-sort-header >Alarms
                  </th>
                  <td class="table-txt" mat-cell *matCellDef="let element" (mouseenter)="openAlarmsAllSite(element)">
                    <div class="hover-dropdown">
                     
                          <span
                            [ngStyle]="{'color':element.AlarmWeightage>10? '#ea4256' : 'black' }">{{element.AlarmWeightage}}</span>
                       
                      <div class="hover-div alarm-div hover-div-third" style="margin-left:60px;"
                        [ngClass]="{'usage-time-hover':(dataSource.data.length-4)<=(ind)}">
                        <div class="hover-div-point"
                          [ngClass]="{'usage-time-hover-point':(dataSource.data.length-4)<=(ind)}"></div>
                        <div class="row m-t-25 pad-0-25">
                          <div class="col-md-12 form-group text-left">
                            <p class="span-label4">TOP 5 ALARM TYPES</p>
                          </div>
                        </div>
                        <div class="row pad-0-25" *ngFor="let item of popupAlarmAllSiteDatas">
                          <div class="col-md-2 form-group text-left">
                            <p class="span-label5">{{item?.EventTotal}}</p>
                          </div>
                          <div class="col-md-10 form-group text-left">
                            <p class="span-label2">{{item?.EventName}}</p>
                          </div>
                        </div>
                        <div class="hover-div-footer cursor" (click)="alarmNavigation(element)">View details >></div>
                      </div>
                    </div>
                  </td>
                </ng-container>
                <ng-container matColumnDef="ComplianceWeightage">
                  <th class="table-txt-head table-header bg-white-with-padding" [ngClass]="{'highlight':tableName1=='ComplianceWeightage'}" mat-header-cell
                    *matHeaderCellDef mat-sort-header >Compliance</th>
                  <td class="table-txt" mat-cell *matCellDef="let element" (mouseenter)="openAlarmsAllSite(item)">
                    <div class="hover-dropdown">
                     
                          {{element.ComplianceWeightage}}
                       
                      <div class="hover-div safety-div hover-div-fourth" style="margin-left:-290px!important;margin-top: -3%!important;"
                        [ngClass]="{'usage-time-hover':(dataSource.data.length.length-4)<=(ind)}">
                        <div class="" style="transform: rotate(319deg);margin-top: -2px;"
                          [ngClass]="{'usage-time-hover-point':(dataSource.data.length.length-4)<=(ind)}"></div>
                          <div class="hover-div-point"
                          [ngClass]="{'usage-time-hover-point':(dataSource.data.length.length-4)<=(ind)}"
                          style="transform: rotate(271deg);
                          margin-left: 89%;
                          margin-top: 8%;"></div>
                        <div class="row m-t-25 pad-0-25 m-b-25">
                          <div class="col-md-4 form-group">
                            <p>{{element.ComplianceWeightageAlarm}}</p>
                            <p class="span-label1">CHECKLIST ALARMS</p>
                          </div>
                          <div class="col-md-4 form-group">
                            <p>{{element.ComplianceWeightageSkipped}}</p>
                            <p class="span-label1">SKIPPED CHECKLIST</p>
                          </div>
                          <div class="col-md-4 form-group">
                            <p>{{element.ComplianceWeightageShorted}}</p>
                            <p class="span-label1">SHORTED CHECKLIST</p>
                          </div>
                        </div>
                        <div class="hover-div-footer cursor" 
                        (click)="complainceNavigation(element)">View details >></div>
                      </div>
                    </div>
                  </td>
                </ng-container>
                <ng-container matColumnDef="AdminName">
                  <th class="table-txt-head table-header bg-white-with-out-padding" [ngClass]="{'highlight':tableName1=='AdminName'}" mat-header-cell
                    *matHeaderCellDef mat-sort-header >Person in
                    charge</th>
                  <td class="table-txt cursor" (click)="openPersonIncharge(element)" mat-cell *matCellDef="let element"
                  matTooltip="{{element.AdminName}}">
                        {{element.AdminName?.length>11?element.AdminName.substring(0,11)+'...':element.AdminName}}
                  </td>
                    
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns">
              </table>
              <div *ngIf="stateOverviewDatas.length>5" class="show-all-site-txt pb-3 mt-3" (click)="open(element,item)">Show all
                sites </div>
              <div *ngIf="stateOverviewDatas.length==0" class="show-all-site-txt pb-3 mt-3">No data available</div>
            </div>
            
          </div>
       
        </div>

        <!--Map View-->
        <div class="row" *ngIf="!batteriesEnable && chargesEnable && !overView">
          <div class="col-sm-1 col-md-2 col-lg-2 col-xl-2"></div>
          <div class="col-sm-11 col-md-10 col-lg-10 col-xl-10" style="padding-bottom:1%;">
            <div class="container-fluid">
              <div class="row margin-3">
                <div class="col-7 col-sm-8 co-md-9 col-lg-9 col-xl-9 pl-0">
                </div>
                <div class="col-4 col-sm-4 col-md-3 col-lg-3 col-xl-3 pr-0">
                  <div class="row">
                    <div class="col-4 col-md-4 col-lg-3 col-xl-4">

                    </div>
                    <!-- <div *ngIf="buttonByDefault" class="col-8 col-sm-7 col-md-8 col-lg-7 col-xl-7 pl-0 pr-0">
                      <div class="vendor-btn" (click)="mapView()"><span class="vendor-txt text-center">Map View</span>
                      </div>
                    </div>
                    <div *ngIf="!buttonByDefault" class="col-8 col-sm-7 col-md-8 col-lg-7 col-xl-7 pl-0 pr-0">
                      <div class="vendor-btn" (click)="mapView_two()"><span class="vendor-txt text-center">List
                          View</span>
                      </div>
                    </div> -->
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-1 col-lg-1 col-xl-1"></div>
        </div>
        <!-- <mapview *ngIf="mapViewEnable && !overView" [data]="mapviewData"></mapview> -->

        <!-- Batteries Start -->
        <h6 *ngIf="!mapViewEnable && siteidisget=='All Sites' && (batteriesEnable)" class="dash-h6 pt-3">BATTERIES</h6>
        <div class="row" *ngIf="!mapViewEnable && siteidisget=='All Sites' && (batteriesEnable)">

          <div class="col-md-12">
            <!-- old table code -->
          
            <div class="dash-box table-scroll">
                <table mat-table [dataSource]="dataSource2" #firstTable #MatSort2="matSort" matSort (matSortChange)="sortTable2($event)" class="mat-elevation-z8" cellspacing="0"
                cellpadding="0" class="stat-overview-table full-width">
        
                <ng-container matColumnDef="SiteName" >
                  <th class="table-txt-head table-header align-left bg-white" [ngClass]="{'highlight':tableName2=='SiteName'}" mat-header-cell
                  *matHeaderCellDef mat-sort-header >Site Name
                </th>
                <td (click)="siteidis(element)" class="table-txt align-left sitenameclass cursor" mat-cell *matCellDef="let element" matTooltip="{{element.SiteName}}">
                  {{element.SiteName?.length>22?element.SiteName.substring(0,22)+'...':element.SiteName}}
                </td>
                </ng-container>
                <ng-container matColumnDef="Units">
                  <th class="table-txt-head table-header bg-white-with-padding" [ngClass]="{'highlight':tableName2=='Units'}" mat-header-cell
                  *matHeaderCellDef mat-sort-header>Units
                </th>
                <td class="table-txt" mat-cell *matCellDef="let element">
                        {{element.Units}}
                </td>
                </ng-container>
                <ng-container matColumnDef="Usage">
                  <th class="table-txt-head table-header bg-white" [ngClass]="{'highlight':tableName2=='Usage'}" mat-header-cell
                  *matHeaderCellDef mat-sort-header>Usage
                </th>
                <td class="table-txt" mat-cell *matCellDef="let element">
                  <div class="hover-dropdown">
                        {{element.Usage}}%
                        <img *ngIf="element.BatteryCharged>=element.BatteryDischarged && stateOverview!='LAST THREE MONTHS'"
                        src="assets/icon/td-arrow-down.png" class="create-report-img">
                      <img *ngIf="element.BatteryCharged<element.BatteryDischarged  && stateOverview!='LAST THREE MONTHS'"
                        src="assets/icon/td-arrow-up.png" class="create-report-img"> 

                        <div id="hover" 
                        class="hover-div idling-div hover-div-second" style="margin-left:76px;width: 300px;"
                        [ngClass]="{'usage-time-hover':(equipmentOverviewDatas.length-4)<=(ind)}">
                        <div class="hover-div-point"
                          [ngClass]="{'usage-time-hover-point':(equipmentOverviewDatas.length-4)<=(ind)}"></div>
                        <div class="row m-t-25 pad-0-25 m-b-25">
                          <div class="col-md-1"></div>
                          <div class="col-md-3 form-group text-center">
                            <p style="color: #ea4256;">{{element?.BatteryCharged}}%</p>
                            <p class="span-label1">BATTERIES CHARGED</p>
                          </div>
                          <div class="col-md-7 form-group text-center">
                            <p>{{element?.BatteryDischarged}}%</p>
                            <p class="span-label1">BATTERIES DISCHARGED</p>
                          </div>
                        </div>
                        <!-- <div class="hover-div-footer text-center">View details >></div> -->
                      </div>
                    </div>
                </td>
                </ng-container>
                <ng-container matColumnDef="Idle">
                  <th class="table-txt-head table-header bg-white" [ngClass]="{'highlight':tableName2=='Idle'}" mat-header-cell
                  *matHeaderCellDef mat-sort-header>Idle
                </th>
                <td class="table-txt" mat-cell *matCellDef="let element">
                        {{element.Idle}}%<img *ngIf="element.PreIdlingTime>=element.Idle  && stateOverview!='LAST THREE MONTHS'"
                        src="assets/icon/td-arrow-up.png" class="create-report-img">
                      <img *ngIf="element.PreIdlingTime<element.Idle  && stateOverview!='LAST THREE MONTHS'"
                        src="assets/icon/td-arrow-down.png" class="create-report-img">
                </td>
                </ng-container>
                <ng-container matColumnDef="Alarms">
                  <th class="table-txt-head table-header bg-white-with-padding" [ngClass]="{'highlight':tableName2=='Alarms'}" mat-header-cell
                  *matHeaderCellDef mat-sort-header>Alarms
                </th>
                <td class="table-txt" mat-cell *matCellDef="let element"  (mouseenter)="openAlarms(element)" style="color: #ea4256;">
                  <div class="hover-dropdown">
                        {{element.Alarms}}
            
                            <div class="hover-div alarm-div hover-div-third" style="margin-left:70px;"
                              [ngClass]="{'usage-time-hover':(equipmentOverviewDatas.length-4)<=(ind)}">
                              <div class="hover-div-point"
                                [ngClass]="{'usage-time-hover-point':(equipmentOverviewDatas.length-4)<=(ind)}"></div>
                              <div class="row m-t-25 pad-0-25">
                                <div class="col-md-12 form-group text-left">
                                  <p class="span-label4">TOP 5 ALARM TYPES</p>
                                </div>
                              </div>
                              <div class="row pad-0-25" *ngFor="let item of popupAlarmDatas">
                                <div class="col-md-2 form-group text-left">
                                  <p class="span-label5">{{item?.EventTotal}}</p>
                                </div>
                                <div class="col-md-10 form-group text-left">
                                  <p class="span-label2">{{item?.EventName}}</p>
                                </div>
                              </div>
                              <div class="hover-div-footer cursor" (click)="alarmNavigation(element)">View details >></div>
                            </div>
                          </div>

                </td>
                </ng-container>
                <ng-container matColumnDef="Equalizations">
                  <th class="table-txt-head table-header bg-white" [ngClass]="{'highlight':tableName2=='Equalizations'}" mat-header-cell
                  *matHeaderCellDef mat-sort-header>Equalizations
                </th>
                <td class="table-txt" mat-cell *matCellDef="let element">
                        {{element.Equalizations}}
                </td>
                </ng-container>
                <ng-container matColumnDef="Plugins">
                  <th class="table-txt-head table-header bg-white-with-padding" [ngClass]="{'highlight':tableName2=='Plugins'}" mat-header-cell
                  *matHeaderCellDef mat-sort-header>Plugins
                </th>
                <td class="table-txt" mat-cell *matCellDef="let element">
                        {{element.Plugins}}
                </td>
                </ng-container>
                <ng-container matColumnDef="Personincharge">
                  <th class="table-txt-head table-header bg-white-with-out-padding" [ngClass]="{'highlight':tableName2=='Personincharge'}" mat-header-cell
                  *matHeaderCellDef mat-sort-header>Person In Charge
                </th>
                <td class="table-txt cursor" mat-cell *matCellDef="let element" matTooltip="{{element.Personincharge}}" (click)="openPersonIncharge(element)"  >
                        {{element.Personincharge}}
                </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns2">
              </table>
              <div *ngIf="equipmentOverviewDatas?.TableRecords?.length>5" class="show-all-site-txt mt-3 pb-3"
                (click)="openStateOverviewBattOrCharges(item)">Show all sites</div>
              <div *ngIf="dataSource2?.data?.length==0" class="show-all-site-txt mt-3 pb-3">No data
                available</div>
              <!-- <table matSort matSortActive="UsageTime" matSortDirection="asc" matSortDisableClear
                (matSortChange)="sortDataBatteries($event)" cellspacing="0" cellpadding="0" class="stat-overview-table">
                <thead>
                  <tr>
                    <th style="padding-left: 2%"
                      *ngFor="let item of equipmentOverviewDatas?.TableHeadings; let ind=index;"
                      (click)="equipmentHeaderChange(item)" mat-sort-header="{{item}}"
                      [ngClass]="{'head-color':headerField2==item?true:false}"
                      [ngClass]="{'text-left':ind==0?true:false}">
                      <span [ngStyle]="{'padding-left':ind==0 ? '0' : '0' }">
                        {{item}}
                      </span></th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of equipmentOverviewDatas.TableRecords| slice:0:5; let ind=index;">
                    <td class="text-left" style="cursor:pointer"
                      *ngFor="let col of equipmentOverviewColumn; let j=index;" style="cursor:pointer;padding-left: 2%"
                      [ngClass]="{'txt-tr':col!='SiteName'?true:false}">
                      <div *ngIf="j==0" id="{{ind}}{{col}}sitename" matTooltip="{{item[col]}}" class="hover-dropdown"
                        (click)="siteidis(item)">
                        {{item[col]?.length>15?item[col]?.substring(0,15)+'...':item[col]}}
                      </div>
                      <div (click)="openPersonIncharge2(col,item)" *ngIf="j!=0 && col!='Idle' && col!='Usage' && col!='AmpHoursCharged' && col!='Alarms/Faults'
                        && col!='Alarms' && col!='Faults' && col!='ChargerUsage'" id="{{ind}}{{col}}actual"
                        class="hover-dropdown" >
                        {{item[col]}}
                      </div>
                      <div *ngIf="col=='Idle'" id="{{ind}}{{col}}Idle" class="hover-dropdown">
                        <div class="row">
                          <div class="col-6 pr-0 text-center">{{item.Idle}}%</div>
                          <div class="col-5 pl-0">
                            <img *ngIf="item.PreIdlingTime>=item.IdlingBatteries  && stateOverview!='LAST THREE MONTHS'"
                              src="assets/icon/td-arrow-up.png" class="create-report-img">
                            <img *ngIf="item.PreIdlingTime<item.IdlingBatteries  && stateOverview!='LAST THREE MONTHS'"
                              src="assets/icon/td-arrow-down.png" class="create-report-img">
                          </div>
                        </div>
                        
                      </div>
                      <div *ngIf="col=='Usage'" id="{{ind}}{{col}}Usage" class="hover-dropdown">
                        <div class="row">
                          <div class="col-xl-8 col-lg-8 col-md-5 col-sm-3 col-3" style="text-align: center;">
                            <span>
                              {{item[col]}}%

                              <img
                                *ngIf="item.BatteryCharged>=item.BatteryDischarged && stateOverview!='LAST THREE MONTHS'"
                                src="assets/icon/td-arrow-down.png" class="create-report-img">
                              <img
                                *ngIf="item.BatteryCharged<item.BatteryDischarged  && stateOverview!='LAST THREE MONTHS'"
                                src="assets/icon/td-arrow-up.png" class="create-report-img">
                            </span>
                          </div>
                        </div>
                        <div *ngIf="batteriesEnable && col=='Usage'" id="{{ind}}{{col}}hover"
                          class="hover-div idling-div hover-div-second" style="margin-left:76px;"
                          [ngClass]="{'usage-time-hover':(equipmentOverviewDatas.length-4)<=(ind)}">
                          <div class="hover-div-point"
                            [ngClass]="{'usage-time-hover-point':(equipmentOverviewDatas.length-4)<=(ind)}"></div>
                          <div class="row m-t-25 pad-0-25 m-b-25">
                            <div class="col-md-1"></div>
                            <div class="col-md-4 form-group">
                              <p style="color: #ea4256;">{{item?.IdlingBatteries}}%</p>
                              <p class="span-label1">BATTERIES {{IdlingBatteries}}</p>
                            </div>
                          </div>
                          <div class="hover-div-footer text-center">View details >></div>
                        </div>
                      </div>


                      <div id="{{ind}}{{col}}hover" *ngIf="col=='Usage' && item.BatteryCharged"
                        class="hover-div idling-div hover-div-second" style="margin-left:76px;"
                        [ngClass]="{'usage-time-hover':(equipmentOverviewDatas.length-4)<=(ind)}">
                        <div class="hover-div-point"
                          [ngClass]="{'usage-time-hover-point':(equipmentOverviewDatas.length-4)<=(ind)}"></div>
                        <div class="row m-t-25 pad-0-25 m-b-25">
                          <div class="col-md-1"></div>
                          <div class="col-md-3 form-group text-center">
                            <p style="color: #ea4256;">{{item?.BatteryCharged}}%</p>
                            <p class="span-label1">BATTERIES CHARGED</p>
                          </div>
                          <div class="col-md-7 form-group text-center">
                            <p>{{item?.BatteryDischarged}}%</p>
                            <p class="span-label1">BATTERIES DISCHARGED</p>
                          </div>
                        </div>
                        <div class="hover-div-footer text-center">View details >></div>
                      </div>

                      <div *ngIf="col=='ChargerUsage'" id="{{ind}}{{col}}ChargerUsage" class="hover-dropdown">
                        <div class="row">
                          <div class="col-xl-8 col-lg-8 col-md-5 col-sm-3 col-3" style="text-align: center;">
                            <span>
                              {{item[col]}}%
                            </span>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="col=='AmpHoursCharged'" id="{{ind}}{{col}}AmpHoursCharged" class="hover-dropdown">
                        <span>
                          {{item.TotalHourCharged>item.AmpHoursCharged?item.TotalHourCharged:item.AmpHoursCharged}}%
                          <img
                            *ngIf="item.TotalHourCharged>=item.AmpHoursCharged  && stateOverview!='LAST THREE MONTHS'"
                            src="assets/icon/td-arrow-down2.png" class="create-report-img">
                          <img *ngIf="item.TotalHourCharged<item.AmpHoursCharged  && stateOverview!='LAST THREE MONTHS'"
                            src="assets/icon/td-arrow-up2.png" class="create-report-img">
                        </span>
                        <div id="{{ind}}{{col}}hover" *ngIf="col=='AmpHoursCharged'"
                          class="hover-div idling-div hover-div-second" style="margin-left:76px;"
                          [ngClass]="{'usage-time-hover':(equipmentOverviewDatas.length-4)<=(ind)}">
                          <div class="hover-div-point"
                            [ngClass]="{'usage-time-hover-point':(equipmentOverviewDatas.length-4)<=(ind)}"></div>
                          <div class="row m-t-25 pad-0-25 m-b-25 text-center">
                            <div class="col-md-1"></div>
                            <div class="col-md-4 form-group">
                              <p style="color: #ea4256;">{{item.TotalHourCharged}}%</p>
                              <p class="span-label1">TOTAL HOURS CHARGED</p>
                            </div>
                            <div class="col-md-4 form-group">
                              <p>{{item.AmpHoursCharged}}%</p>
                              <p class="span-label1">AMP HOURS CHARGED</p>
                            </div>
                          </div>
                          <div class="hover-div-footer text-center">View details >></div>
                        </div>
                      </div>
                      <div *ngIf="col=='Alarms/Faults' || col=='Alarms' || col=='Faults'"
                        id="{{ind}}{{col}}Alarms/Faults" class="hover-dropdown" (mouseenter)="openAlarms(item)">
                        <div class="row">
                          <div class="col-xl-8 col-lg-8 col-md-5 col-sm-3 col-3" style="text-align: center;">
                            <span style="color: #ea4256;">{{item[col]}}</span>
                            <div class="hover-div alarm-div hover-div-third" style="margin-left:70px;"
                              [ngClass]="{'usage-time-hover':(equipmentOverviewDatas.length-4)<=(ind)}">
                              <div class="hover-div-point"
                                [ngClass]="{'usage-time-hover-point':(equipmentOverviewDatas.length-4)<=(ind)}"></div>
                              <div class="row m-t-25 pad-0-25">
                                <div class="col-md-12 form-group text-left">
                                  <p class="span-label4">TOP 5 ALARM TYPES</p>
                                </div>
                              </div>
                              <div class="row pad-0-25" *ngFor="let item of popupAlarmDatas">
                                <div class="col-md-2 form-group text-left">
                                  <p class="span-label5">{{item?.EventTotal}}</p>
                                </div>
                                <div class="col-md-10 form-group text-left">
                                  <p class="span-label2">{{item?.EventName}}</p>
                                </div>
                              </div>
                              <div class="hover-div-footer">View details >></div>
                            </div>
                          </div>

                        </div>
                      </div>
                    </td>
                </tbody>
              </table> 
              <div *ngIf="equipmentOverviewDatas?.TableRecords?.length>5" class="show-all-site-txt mt-3 pb-3"
                (click)="openStateOverviewBattOrCharges(item)">Show all sites</div>
              <div *ngIf="equipmentOverviewDatas?.TableRecords?.length==0" class="show-all-site-txt mt-3 pb-3">No data
                available</div>-->
            </div>
          </div>
        </div>
        <!-- Batteries End -->

        <!--chargers start  -->
        <h6 *ngIf="!mapViewEnable && siteidisget=='All Sites' && (chargesEnable)" class="dash-h6 pt-3">CHARGERS</h6>
        <div class="row" *ngIf="!mapViewEnable && siteidisget=='All Sites' && (chargesEnable)">

        <div class="col-md-12">
          <!-- old table code -->
          <div class="dash-box table-scroll">
            <!-- <table matSort matSortDirection="asc" matSortDisableClear
              (matSortChange)="sortDataBatteries2($event)" cellspacing="0" cellpadding="0" class="stat-overview-table">
              <thead>
                <tr>
                  <th style="padding-left: 2%"
                    *ngFor="let item of equipmentOverviewDatas2?.TableHeadings; let ind=index;"
                    (click)="equipmentHeaderChange2(item)" mat-sort-header="{{item}}"
                    [ngClass]="{'head-color':headerField3==item?true:false}"
                    [ngClass]="{'text-left':ind==0?true:false}">
                    <span [ngStyle]="{'padding-left':ind==0 ? '0' : '0' }">
                      {{item}}
                    </span></th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of equipmentOverviewDatas2?.TableRecords| slice:0:5; let ind=index;">
                  <td class="text-left" style="cursor:pointer"
                    *ngFor="let col of equipmentOverviewColumn2 ; let j=index;" style="cursor:pointer;padding-left: 2%"
                    [ngClass]="{'txt-tr':col!='SiteName'?true:false}">
                    <div *ngIf="j==0" id="{{ind}}{{col}}sitename" matTooltip="{{item[col]}}" class="hover-dropdown"
                      (click)="siteidis(item)">
                    
                      {{item[col]?.length>15?item[col]?.substring(0,15)+'...':item[col]}}
                    </div>
                    
                    <div (click)="openPersonIncharge2(col,item)" *ngIf="j!=0 && col!='IdleTime' && col!='Usage' && col!='AmpHoursCharged' && col!='Alarms/Faults'
                      && col!='Alarms' && col!='Faults' && col!='ChargerUsage'" id="{{ind}}{{col}}actual"
                      class="hover-dropdown" style="padding-left:20px;">
                      {{item[col]}}
                    </div>
                    <div *ngIf="col=='IdleTime'" id="{{ind}}{{col}}IdleTime" class="hover-dropdown">
                      <div class="row">
                        <div class="col-6 pr-0 text-center">{{item.IdleTime}}%</div>
                        <div class="col-5 pl-0">
                          <img *ngIf="item.PreIdlingTime>=item.IdlingBatteries  && stateOverview!='LAST THREE MONTHS'"
                            src="assets/icon/td-arrow-up.png" class="create-report-img">
                          <img *ngIf="item.PreIdlingTime<item.IdlingBatteries  && stateOverview!='LAST THREE MONTHS'"
                            src="assets/icon/td-arrow-down.png" class="create-report-img">
                        </div>
                      </div>
                      <div *ngIf="chargesEnable && col=='IdleTime'" id="{{ind}}{{col}}hover"
                        class="hover-div idling-div hover-div-second" style="margin-left:76px;"
                        [ngClass]="{'usage-time-hover':(equipmentOverviewDatas2.length-4)<=(ind)}">
                        <div class="hover-div-point"
                          [ngClass]="{'usage-time-hover-point':(equipmentOverviewDatas2.length-4)<=(ind)}"></div>
                        <div class="row m-t-25 pad-0-25 m-b-25">
                          <div class="col-md-1"></div>
                          <div class="col-md-4 form-group">
                            <p>{{item.IdlingChargers}}%</p>
                            <p class="span-label1">CHARGERS</p>
                          </div>
                        </div>
                        <div class="hover-div-footer text-center">View details >></div>
                      </div>
                    </div>
                    <div *ngIf="col=='Usage'" id="{{ind}}{{col}}Usage" class="hover-dropdown">
                      <div class="row">
                        <div class="col-xl-8 col-lg-8 col-md-5 col-sm-3 col-3" style="text-align: center;">
                          <span>
                            {{item[col]}}%

                            <img
                              *ngIf="item.BatteryCharged>=item.BatteryDischarged && stateOverview!='LAST THREE MONTHS'"
                              src="assets/icon/td-arrow-down.png" class="create-report-img">
                            <img
                              *ngIf="item.BatteryCharged<item.BatteryDischarged  && stateOverview!='LAST THREE MONTHS'"
                              src="assets/icon/td-arrow-up.png" class="create-report-img">
                          </span>
                        </div>
                      </div>
                    </div>


                    <div id="{{ind}}{{col}}hover" *ngIf="col=='Usage' && item.BatteryCharged"
                      class="hover-div idling-div hover-div-second" style="margin-left:76px;"
                      [ngClass]="{'usage-time-hover':(equipmentOverviewDatas2.length-4)<=(ind)}">
                      <div class="hover-div-point"
                        [ngClass]="{'usage-time-hover-point':(equipmentOverviewDatas2.length-4)<=(ind)}"></div>
                      <div class="row m-t-25 pad-0-25 m-b-25">
                        <div class="col-md-1"></div>
                        <div class="col-md-3 form-group text-center">
                          <p style="color: #ea4256;">{{item.BatteryCharged}}%</p>
                          <p class="span-label1">BATTERIES</p>
                        </div>
                        <div class="col-md-7 form-group text-center">
                          <p>{{item.BatteryDischarged}}%</p>
                          <p class="span-label1">BATTERIES DISCHARGED</p>
                        </div>
                      </div>
                      <div class="hover-div-footer text-center">View details >></div>
                    </div>

                    <div *ngIf="col=='ChargerUsage'" id="{{ind}}{{col}}ChargerUsage" class="hover-dropdown">
                      <div class="row">
                        <div class="col-xl-8 col-lg-8 col-md-5 col-sm-3 col-3" style="text-align: center;">
                          <span>
                            {{item[col]}}%
                          </span>
                        </div>
                      </div>
                    </div>
                    <div *ngIf="col=='AmpHoursCharged'" id="{{ind}}{{col}}AmpHoursCharged" class="hover-dropdown">
                      <span>
                        {{item.TotalHourCharged>item.AmpHoursCharged?item.TotalHourCharged:item.AmpHoursCharged}}%
                        <img
                          *ngIf="item.TotalHourCharged>=item.AmpHoursCharged  && stateOverview!='LAST THREE MONTHS'"
                          src="assets/icon/td-arrow-down2.png" class="create-report-img">
                        <img *ngIf="item.TotalHourCharged<item.AmpHoursCharged  && stateOverview!='LAST THREE MONTHS'"
                          src="assets/icon/td-arrow-up2.png" class="create-report-img">
                      </span>
                      <div id="{{ind}}{{col}}hover" *ngIf="col=='AmpHoursCharged'"
                        class="hover-div idling-div hover-div-second" style="margin-left:76px;"
                        [ngClass]="{'usage-time-hover':(equipmentOverviewDatas2.length-4)<=(ind)}">
                        <div class="hover-div-point"
                          [ngClass]="{'usage-time-hover-point':(equipmentOverviewDatas2.length-4)<=(ind)}"></div>
                        <div class="row m-t-25 pad-0-25 m-b-25 text-center">
                          <div class="col-md-1"></div>
                          <div class="col-md-4 form-group">
                            <p style="color: #ea4256;">{{item.TotalHourCharged}}%</p>
                            <p class="span-label1">TOTAL HOURS</p>
                          </div>
                          <div class="col-md-4 form-group">
                            <p>{{item.AmpHoursCharged}}%</p>
                            <p class="span-label1">AMP HOURS</p>
                          </div>
                        </div>
                        <div class="hover-div-footer text-center">View details >></div>
                      </div>
                    </div>
                    <div *ngIf="col=='Alarms/Faults' || col=='Alarms' || col=='Faults'"
                      id="{{ind}}{{col}}Alarms/Faults" class="hover-dropdown" (mouseenter)="openAlarms2(item)">
                      <div class="row">
                        <div class="col-xl-8 col-lg-8 col-md-5 col-sm-3 col-3" style="text-align: center;">
                          <span style="color: #ea4256;">{{item[col]}}</span>
                          <div class="hover-div alarm-div hover-div-third" style="margin-left:70px;"
                            [ngClass]="{'usage-time-hover':(equipmentOverviewDatas2.length-4)<=(ind)}">
                            <div class="hover-div-point"
                              [ngClass]="{'usage-time-hover-point':(equipmentOverviewDatas2.length-4)<=(ind)}"></div>
                            <div class="row m-t-25 pad-0-25">
                              <div class="col-md-12 form-group text-left">
                                <p class="span-label4">TOP 5 ALARM TYPES</p>
                              </div>
                            </div>
                            <div class="row pad-0-25" *ngFor="let item of popupAlarmDatas2">
                              <div class="col-md-2 form-group text-left">
                                <p class="span-label5">{{item?.EventTotal}}</p>
                              </div>
                              <div class="col-md-10 form-group text-left">
                                <p class="span-label2">{{item?.EventName}}</p>
                              </div>
                            </div>
                            <div class="hover-div-footer">View details >></div>
                          </div>
                        </div>

                      </div>
                    </div>

                  </td>
              </tbody>
            </table> -->
            <table mat-table [dataSource]="dataSource3" #firstTable3 #MatSort3="matSort" matSortActive="Usage" matSortDirection="desc"  matSort (matSortChange)="sortTable3($event)"  class="mat-elevation-z8" cellspacing="0"
            cellpadding="0" class="stat-overview-table full-width">
    
            <ng-container matColumnDef="SiteName">
              <th class="table-txt-head table-header align-left bg-white" [ngClass]="{'highlight':tableName3=='SiteName'}" mat-header-cell
              *matHeaderCellDef mat-sort-header>Site Name
            </th>
            <td (click)="siteidis(element)" class="table-txt align-left sitenameclass cursor" mat-cell *matCellDef="let element"  matTooltip="{{element.SiteName}}">
              {{element.SiteName?.length>22?element.SiteName.substring(0,22)+'...':element.SiteName}}
            </td>
            </ng-container>
            <ng-container matColumnDef="Units">
              <th class="table-txt-head table-header bg-white-with-padding" [ngClass]="{'highlight':tableName3=='Units'}" mat-header-cell
              *matHeaderCellDef mat-sort-header>Units
            </th>
            <td class="table-txt" mat-cell *matCellDef="let element">
                    {{element.Units}}
            </td>
            </ng-container>
            <ng-container matColumnDef="Usage">
              <th class="table-txt-head table-header bg-white" [ngClass]="{'highlight':tableName3=='Usage'}" mat-header-cell
              *matHeaderCellDef mat-sort-header>Usage
            </th>
            <td class="table-txt" mat-cell *matCellDef="let element">
              <div class="hover-dropdown">
                {{element.Usage}}%
                <!-- <img *ngIf="element.TotalHourCharged>=element.AhChargeHours && stateOverview!='LAST THREE MONTHS'"
                src="assets/icon/td-arrow-down.png" class="create-report-img">
              <img *ngIf="element.TotalHourCharged<element.AhChargeHours && stateOverview!='LAST THREE MONTHS'"
                src="assets/icon/td-arrow-up.png" class="create-report-img">  -->

                    <div id="hover" 
                    class="hover-div idling-div hover-div-second" style="margin-left:76px;width: 300px;"
                    [ngClass]="{'usage-time-hover':(equipmentOverviewDatas.length-4)<=(ind)}">
                    <div class="hover-div-point"
                      [ngClass]="{'usage-time-hover-point':(equipmentOverviewDatas.length-4)<=(ind)}"></div>
                    <div class="row m-t-25 pad-0-25 m-b-25">
                      <div class="col-md-1"></div>
                      <div class="col-md-3 form-group text-center">
                        <p style="color: #ea4256;">{{element?.TotalHourCharged}}%</p>
                        <p class="span-label1">TOTAL CHARGED</p>
                      </div>
                      <div class="col-md-7 form-group text-center">
                        <p>{{element?.AhChargeHours}}%</p>
                        <p class="span-label1">AMP HOURS CHARGED</p>
                      </div>
                    </div>
                    <!-- <div class="hover-div-footer text-center">View details >></div> -->
                  </div>
                </div>
            </td>
            </ng-container>
            <ng-container matColumnDef="KwhPerCharger">
              <th class="table-txt-head table-header bg-white" [ngClass]="{'highlight':tableName3=='KwhPerCharger'}" mat-header-cell
              *matHeaderCellDef mat-sort-header>KwhPerCharger
            </th>
            <td class="table-txt" mat-cell *matCellDef="let element">
                    {{element.KwhPerCharger}}%
            </td>
            </ng-container>
            <ng-container matColumnDef="Faults">
              <th class="table-txt-head table-header bg-white-with-padding" [ngClass]="{'highlight':tableName3=='Faults'}" mat-header-cell
              *matHeaderCellDef mat-sort-header>Faults
            </th>
            <td class="table-txt" mat-cell *matCellDef="let element"  (mouseenter)="openAlarms2(element)" style="color: #ea4256;">
              <div class="hover-dropdown">
                    {{element.Faults}}
        
                        <div class="hover-div alarm-div hover-div-third" style="margin-left:70px;"
                          [ngClass]="{'usage-time-hover':(equipmentOverviewDatas.length-4)<=(ind)}">
                          <div class="hover-div-point"
                            [ngClass]="{'usage-time-hover-point':(equipmentOverviewDatas.length-4)<=(ind)}"></div>
                          <div class="row m-t-25 pad-0-25">
                            <div class="col-md-12 form-group text-left">
                              <p class="span-label4">TOP 5 ALARM TYPES</p>
                            </div>
                          </div>
                          <div class="row pad-0-25" *ngFor="let item of popupAlarmDatas2">
                            <div class="col-md-2 form-group text-left">
                              <p class="span-label5">{{item?.EventTotal}}</p>
                            </div>
                            <div class="col-md-10 form-group text-left">
                              <p class="span-label2">{{item?.EventName}}</p>
                            </div>
                          </div>
                          <div class="hover-div-footer cursor" (click)="alarmNavigation(element)">View details >></div>
                        </div>
                      </div>

            </td>
            </ng-container>
            <ng-container matColumnDef="Equalizations">
              <th class="table-txt-head table-header bg-white" [ngClass]="{'highlight':tableName3=='Equalizations'}" mat-header-cell
              *matHeaderCellDef mat-sort-header>Equalizations
            </th>
            <td class="table-txt" mat-cell *matCellDef="let element">
                    {{element.Equalizations}}
            </td>
            </ng-container>
            <ng-container matColumnDef="Personincharge">
              <th class="table-txt-head table-header bg-white-with-out-padding" [ngClass]="{'highlight':tableName3=='Personincharge'}" mat-header-cell
              *matHeaderCellDef mat-sort-header>Person In Charge
            </th>
            <td class="table-txt cursor" mat-cell *matCellDef="let element" matTooltip="{{element.Personincharge}}" (click)="openPersonIncharge(element)" >
                    {{element.Personincharge}}
            </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns3"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns3">
          </table>
            <div *ngIf="equipmentOverviewDatas2?.TableRecords?.length>5" class="show-all-site-txt mt-3 pb-3"
              (click)="openStateOverviewBattOrCharges2(item)">Show all sites</div>
            <div *ngIf="dataSource3?.data?.length==0" class="show-all-site-txt mt-3 pb-3">No data
              available</div>
          </div>
          <!-- new table code -->
          <!-- <div class="dash-box table-scroll">
              <table mat-table [dataSource]="dataSource2" matSort class="mat-elevation-z8" style="width: 100%">
                <ng-container matColumnDef="BadgeNo1" style="text-align: left">
                <th style="padding-left: 24px" class="table-txt-head table-header" mat-header-cell
                  *matHeaderCellDef mat-sort-header> Site name
                </th>
                <td mat-cell *matCellDef="let element" class="table-txt">{{element.BadgeNo1}}</td>
              </ng-container>
              <ng-container matColumnDef="BadgeNo2" style="text-align: left;">
                  <th class="table-txt-head table-header" mat-header-cell
                    *matHeaderCellDef mat-sort-header> Charger Usage
                  </th>
                  <td mat-cell *matCellDef="let element" class="table-txt">{{element.BadgeNo2}}</td>
                </ng-container>
                <ng-container matColumnDef="BadgeNo3" style="text-align: left;">
                    <th class="table-txt-head table-header" mat-header-cell
                      *matHeaderCellDef mat-sort-header> Battery Usage
                    </th>
                    <td mat-cell *matCellDef="let element" class="table-txt">{{element.BadgeNo3}}</td>
                  </ng-container>
                  <ng-container matColumnDef="BadgeNo4" style="text-align: left;">
                      <th class="table-txt-head table-header" mat-header-cell
                        *matHeaderCellDef mat-sort-header> Idle Time 
                      </th>
                      <td mat-cell *matCellDef="let element" class="table-txt">{{element.BadgeNo4}}</td>
                    </ng-container>
                    <ng-container matColumnDef="BadgeNo5" style="text-align: left;">
                        <th class="table-txt-head table-header" mat-header-cell
                          *matHeaderCellDef mat-sort-header> Alarms/Faults
                        </th>
                        <td mat-cell *matCellDef="let element" class="table-txt">{{element.BadgeNo5}}</td>
                      </ng-container>
                      <ng-container matColumnDef="BadgeNo6" style="text-align: left;">
                          <th class="table-txt-head table-header" mat-header-cell
                            *matHeaderCellDef mat-sort-header>  Equalization
                          </th>
                          <td mat-cell *matCellDef="let element" class="table-txt">{{element.BadgeNo6}}</td>
                        </ng-container>
                        <ng-container matColumnDef="BadgeNo7" style="text-align: left;">
                            <th class="table-txt-head table-header" mat-header-cell
                              *matHeaderCellDef mat-sort-header>  Person in charge 
                            </th>
                            <td mat-cell *matCellDef="let element" class="table-txt">{{element.BadgeNo7}}</td>
                          </ng-container>

                      <tr style="text-align: left;" mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns2"></tr>
              </table>
            </div> -->
        </div>
      </div>
        <!-- chargers end -->
        <!-- End Stat overview month coloumns -->

        <!-- Click edit option -->
        <div class="row m-b-25" *ngIf="siteidisget=='All Sites'">

        </div>

        <!-- End click edit option -->

        <!-- Site monitor 7 coloumns -->

        <div class="row">
          <div *ngIf="editWidgetFlag" class="col-6 col-sm-6 col-md-6 form-group">
            <h6 class="dash-h6">EDITING SITES MONITOR
            </h6>
          </div>
          <div *ngIf="editWidgetFlag" class="col-6 col-sm-6 col-md-6 form-group text-right">
            <a (click)="cancelWidget(value)"> <img src="../../../assets/icon/icons-cancel-ic.png" alt="">
              <span class="cancel-text"> Cancel </span></a>
            <a *ngIf="editWidgetFlag" class="ml-2" (click)="applyFun()"> <img
                src="../../../assets/icon/icons-apply-ic.png" alt=""> <span class="apply-text"> Apply </span></a>

          </div>

          <div *ngIf="!editWidgetFlag && (equipment || chargesEnable || batteriesEnable)" class="col-xl-7 col-4 col-sm-5 col-md-6 form-group">
            <span class="dash-h6" *ngIf="siteName!='All Sites'">{{siteName | uppercase}} SITES MONITOR FOR</span>
            <span class="dash-h6" *ngIf="siteName=='All Sites'">SITES MONITOR OF</span>
            <span>
              <div style="vertical-align: unset !important;" id="filterType" class="btn-group pr-4 week-dropdown-text" dropdown> <a id="button-basic" dropdownToggle
                aria-controls="dropdown-basic"
                matTooltip="{{filterType}}">
                <span class="week-dropdown-span">{{filterType}}</span>
              </a>
              <ul id="dropdown-basic" *dropdownMenu role="menu" aria-labelledby="button-basic"
                class="dropdown-menu dropdown-menu-right zero-border">
                <!-- <div style="box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.12);width:175px;margin-left:25px;"> -->
                <div *ngFor="let type of filterTypeList;let i=index;">
                  <div id="filterType{{i}}" (click)="loadFilter(type)" class="alarm-txt filter-dropdownList-height"
                    [ngClass]="{'active-alarmmenu':type==filterType}">{{type}}</div>
                </div>
                <!-- </div> -->
              </ul>
            </div>
            </span>
          </div>
          <!-- <div *ngIf="!editWidgetFlag" class="col-xl-2"></div> -->
          <div *ngIf="!editWidgetFlag && (equipment || chargesEnable || batteriesEnable)" class="col-7 col-sm-7 col-md-6 col-xl-5 form-group text-right">
           
            <a class="create-btn"><img src="assets/icon/create-report.png" class="create-report-img">Create
              report</a>&nbsp;&nbsp;&nbsp;&nbsp;
            <a (click)="beforeEdit()" class="edit-btn"><img src="assets/icon/edit-pen.png"
                class="create-report-img">Edit</a>

          </div>
          <!-- Site monitor prodictive chart coloumns -->
          <div class="col-md-12 col-lg-6 col-xl-6 m-b-25" id="prodictive-chart" [hidden]="!overView || !equipment">
            <div *ngIf="loadSinglesitePr" class="loader-widget"></div>
            <div class="dash-box pad-10" [ngClass]="{'loading-indicator2':loadSinglesitePr==true}">
              <div class="row mar-0">
                <div class="col-7 prodictive-title pad-0 form-group">DYNAMIC PRODUCTIVITY
                  
                </div>

                           <!-- date picker start -->

                <!-- <div class="col-1 pad-0 form-group" style="text-align: end" (click)="productionArrow('left')"><img
                    src="assets/icon/arrow-left.png" class="batteries-arrow"></div>
                <mat-form-field style="width:0;">
                  <input matInput [matDatepicker]="picker1" (dateChange)="prodDateChoose($event)" [min]="minDate"
                    [max]="maxDate" placeholder="Choose a date">
                  <mat-datepicker #picker1></mat-datepicker>
                </mat-form-field>
                <div class="col-3 pad-0 form-group" style="cursor: pointer;">
                  <p class="batteries-date3" (click)="picker1.open()">{{fromDateProd}} - {{toDateProd}}</p>
                </div>
                <div class="col-1 pad-0 form-group" (click)="productionArrow('right')"><img
                    src="assets/icon/arrow-right.png" class="batteries-arrow"></div> -->

                          <!-- date picker end -->

                <div class="col-12 pad-0 form-group">
                  <canvas id="lineChart1"></canvas>
                </div>
              </div>
              <div *ngIf="filterType=='PAST 2 WEEKS' || filterType=='MONTH'" class="row">
                <div class="chart-widget-bottom-date col-12 text-center">
                  <!-- <p class="batteries-date3">{{fromDateProd}} - {{toDateProd}}</p> -->
                </div>
              </div>
            </div>
          </div>

          <!-- Site monitor accident chart coloumns -->
          <div class="col-md-12 col-lg-6 col-xl-6  m-b-25" id="accident-chart" [hidden]="!overView || !equipment" >
            <div *ngIf="loadSingleSideAc" class="loader-widget"></div>
            <div class="dash-box pad-10" [ngClass]="{'loading-indicator2':loadSingleSideAc==true}">
              <div class="row mar-0">
                <div class="col-7 prodictive-title pad-0 form-group">DYNAMIC ACCIDENTS 
                </div>
                        
                            <!-- date picker start -->

                <!-- <div class="col-1 pad-0 form-group" style='text-align:end' (click)="accidentArrow('left')"><img
                    src="assets/icon/arrow-left.png" class="batteries-arrow text-center"></div>
                <mat-form-field style="width:0;">
                  <input matInput [matDatepicker]="picker2" (dateChange)="accidentDateChoose($event)" [min]="minDate"
                    [max]="maxDate" placeholder="Choose a date">
                  <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>
                <div class="col-3 pad-0 form-group" style="cursor:pointer;">
                  <p class="batteries-date3" (click)="picker2.open()">{{fromDateAccid}} - {{toDateAccid}}</p>
                </div>
                <div class="col-1 pad-0 form-group" (click)="accidentArrow('right')"><img
                    src="assets/icon/arrow-right.png" class="batteries-arrow text-center"></div> -->

                            <!-- date picker end -->

                <div class="col-12 pad-0 form-group">
                  <canvas id="lineChart2"></canvas>
                </div>
              </div>
              <div *ngIf="filterType=='PAST 2 WEEKS' || filterType=='MONTH'" class="row">
                <div class="chart-widget-bottom-date col-12 text-center">
                  <!-- <p class="batteries-date3">{{fromDateAccid}} - {{toDateAccid}}</p> -->
                </div>
              </div>

            </div>
          </div>

          <!-- Visible widgets Lables-->
          <div *ngIf="editWidgetFlag" class="col-4 col-sm-4 col-md-2 col-lg-2 col-xl-2">
            <h6 class="dash-h6">Visible widgets</h6>
          </div>
          <div *ngIf="editWidgetFlag" class="col-8 col-sm-8 col-md-10">
            <hr class="black-border">
          </div>
          <div *ngIf="defaultshow && !editWidgetFlag && !Productive && !Accident && !Alarm && !Safety &&   
            !Maintenance && !Batteries && !Communication && !hottest 
            && !ecAlarm && !average && !equalization && !equalizationCharge" class="col-md-12">
            <h6 class="dash-h6 text-center">You've hidden all the widgets. Use "edit" to add some</h6>
          </div>



          <!-- Site monitor prodictive coloumns -->
          <div *ngIf="tempProductive && Productive && (equipment  || batteriesEnable )"
            class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="prodictive">
            <div *ngIf="loadMost" class="loader-widget"></div>
            <div class="dash-box pad-10" [ngClass]="{'loading-indicator2':loadMost==true}">
              <div class="container pl-4">
                <div class="row">
                  <div class="col-9 prodictive-title1 pad-0 m-b-8 productive-align-one">
                    <div id="productive" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                        aria-controls="dropdown-basic" class="prod-text">
                        PRODUCTIVITY
                        <img class="cursor" (click)="loadMostProdictive(filterType,prodictivemenu,prodictive=='MOST PRODUCTIVE'?'LEAST PRODUCTIVE':'MOST PRODUCTIVE')"
                        src="{{prodictive!='MOST PRODUCTIVE'?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                        
                        alt="{{prodictive!='MOST PRODUCTIVE'?'down-arrow':'up-arrow'}}">
                      </a>
                     
                    </div>
                    <div id="mostProdictiveType" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                        aria-controls="dropdown-basic"
                        class="prod-text cursor"
                        matTooltip="{{mostProdictiveType}}">
                        {{!maxScreen && mostProdictiveType?.length>5?mostProdictiveType.substring(0,6)+'...':mostProdictiveType}}
                      </a>
                      <ul id="dropdown-basic" *dropdownMenu role="menu" aria-labelledby="button-basic"
                        class="dropdown-menu dropdown-menu-right zero-border">
                        <!-- <div style="box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.12);width:175px;margin-left:25px;"> -->
                        <div *ngFor="let type of mostProdictiveTypeList;let i=index;">
                          <div id="mostProdictiveType{{i}}" (click)="loadMostProdictive(type)" class="alarm-txt filter-dropdownList-height"
                            [ngClass]="{'active-alarmmenu':type==mostProdictiveType}">{{type}}</div>
                        </div>
                        <!-- </div> -->
                      </ul>
                    </div>
                  </div>
                  <div
                    *ngIf="(overView && mostProdictiveDatas.length>5) || (!overView && mostProdictiveDatas.length>10)"
                    class="col-3 prodictive-show pad-0 m-b-8 text-center" (click)="openMostProductivityModel()">Show
                    all
                  </div>
                  <div *ngIf="mostProdictiveDatas.length==0"></div>
                </div>
              </div>
              <div class="row"> {{mostProdictiveType}}
                <div class="margin-8">
                  <div *ngIf='equipment' class="col-4 col-md-4 col-lg-6 col-xl-4 mt-2 mr-4 pad-0"
                    (click)="loadMostProdictive(filterType,'Equipment','MOST PRODUCTIVE')">
                    <div>
                      <div id="productiveEquipment" class="text-center prodictive-item"
                        [ngClass]="{'active-prodictive': prodictivemenu=='Equipment'}">
                        Equipment
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf='batteriesEnable' class="col-4 pad-0 mt-2 widget-align"
                  (click)="loadMostProdictive(filterType,'Batteries','MOST PRODUCTIVE')">
                  <div>
                    <div id="productiveBatteries" class="text-center prodictive-item"
                      [ngClass]="{'active-prodictive': prodictivemenu=='Batteries'}">
                      Batteries
                    </div>
                  </div>
                </div>
                <div class="col-4 pad-0"></div>
              </div>
              <!-- <div id="page"  *ngIf="mostProdictiveDatas.length==0">
                <div id="content_container">
                        <div id="content" class="empty-widget-msg-allsite">
                        No data available
                        </div>
                </div>
              </div> -->
              <div [ngClass]="{'productivity-table-top': mostProdictiveType=='PAST 2 WEEKS'}" class="row">
                <div class="col-12">
                   <div class="empty-widget-msg" *ngIf="mostProdictiveDatas.length==0 && overView==true">No data
                    available</div>
                  <div class="empty-widget-msg-allsite" *ngIf="mostProdictiveDatas.length==0 && overView==false">No data
                    available</div> 
                    
                  <!-- If -->
                  <div class="widget-table1" *ngIf="!overView && mostProdictiveDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-7">

                      <tr class="row" *ngFor="let item of mostProdictiveDatas| slice:0:10; let ind=index;">
                        <td class="col-1 col-md-1 col-sm-1">
                        </td>
                        <td class="individual-site-click col-5  col-sm-5 col-md-3 col-lg-4">
                          <div (click)="siteidis(item)" matTooltip="{{item.SiteName}}">
                            {{item.SiteName?.length>13?item.SiteName.substring(0,11)+'...':item.SiteName}}</div>
                        </td>
                        <td *ngIf="item.MostProductive>=80" class="col-5  col-sm-5 col-md-5 col-lg-5"
                          style="margin-top:2.5%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td *ngIf="item.MostProductive<=79 && item.MostProductive>=26"
                          class="col-5  col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.5%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.MostProductive<=25 && item.MostProductive>=1"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.5%;">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.MostProductive==0" class="col-5 col-sm-5 col-md-5 col-lg-5">Not
                          Productive
                        </td>
                        <td text-align="center" class="col-1  col-sm-1 col-md-1  col-lg-1">{{item.MostProductive}}%</td>

                      </tr>
                    </table>
                  </div>

                  <!-- Else -->
                  <div class="singlesite-widget" *ngIf="overView && mostProdictiveDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">
                      <tr *ngFor="let item of mostProdictiveDatas| slice:0:5; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="individual-site-click col-5 col-sm-5 col-md-3 col-lg-4">
                          <div matTooltip="{{item.AssetTypeName}}">
                            {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}}
                          </div>
                        </td>
                        <td *ngIf="item.MostProductive>=80" class="col-5  col-sm-5 col-md-5 col-lg-5"
                          style="margin-top:2.5%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td *ngIf="item.MostProductive<=79 && item.MostProductive>=26"
                          class="col-5  col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.5%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.MostProductive<=25 && item.MostProductive>=1"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.5%;">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.MostProductive==0" class="col-5 col-sm-5 col-md-5 col-lg-5 ">Not
                          Productive
                        </td>
                        <td text-align="center" class="col-1 col-sm-1 col-md-1  col-lg-1">{{item.MostProductive}}%</td>
                      </tr>

                    </table>
                  </div>
                </div>


              </div>
              <div *ngIf="editWidgetFlag && Productive" (click)="Productive=!Productive" class="text-center mt-4"><img
                  src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div>
              <!-- <div *ngIf="editWidgetFlag && !Productive" (click)="Productive=!Productive" class="text-center mt-4"><img src="../../../assets/icon/icons-show-ic.png"
              alt=""> <span class="hide-text pl-1">SHOW</span></div> -->
            </div>
          </div>
          <!-- Site monitor accidents coloumns -->
          <div *ngIf="tempAccident && Accident && equipment" class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="accidents">
            <div *ngIf="loadAccident" class="loader-widget"></div>
            <div class="dash-box pad-10" [ngClass]="{'loading-indicator2':loadAccident==true}">
              <div class="row mar-0 row-align-second">
                <div class="col-9 prodictive-title1 pad-0">
                  <div id="accident" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                      aria-controls="dropdown-basic"
                      class="prod-text cursor">
                      ACCIDENTS
                      <img class="cursor" (click)="loadAccidentProdictive(filterType,accident=='MOST ACCIDENTS'?'LEAST ACCIDENTS':'MOST ACCIDENTS',type)"
                        src="{{accident!='MOST ACCIDENTS'?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                        
                        alt="{{accident!='MOST ACCIDENTS'?'down-arrow':'up-arrow'}}">
                    </a>
                    <!-- <ul id="dropdown-basic" *dropdownMenu role="menu" aria-labelledby="button-basic"
                      class="dropdown-menu dropdown-menu-right" style="border:0;">
                      <div *ngFor="let type of accidenTypeList;let i=index;">
                        <div id="accident{{i}}" (click)="loadAccidentProdictive(mostAccidentType,type,null)"
                          class="alarm-txt filter-dropdownList-height" [ngClass]="{'active-alarmmenu':type==accident}">{{type}}
                        </div>
                      </div>
                    </ul> -->
                  </div>

                  <div id="mostAccidentType" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                      aria-controls="dropdown-basic"
                      class="prod-text cursor"
                      matTooltip="{{mostAccidentType}}">
                      {{!maxScreen && mostAccidentType?.length>5?mostAccidentType.substring(0,6)+'...':mostAccidentType}}
                    </a>
                    <ul id="dropdown-basic" *dropdownMenu role="menu" aria-labelledby="button-basic"
                      class="dropdown-menu dropdown-menu-right zero-border">
                      <div *ngFor="let type of mostAccidentTypeList;let i=index;">
                        <div id="mostAccidentType{{i}}" (click)="loadAccidentProdictive(type)" class="alarm-txt filter-dropdownList-height"
                          [ngClass]="{'active-alarmmenu':type==mostAccidentType}">{{type}}</div>
                      </div>
                    </ul>
                  </div>
                </div>
                <div *ngIf="(overView && mostAccidentDatas.length>5) || (!overView && mostAccidentDatas.length>10)"
                  class="col-3 prodictive-show pad-0 text-center" (click)="openMostAccident()">Show all</div>
                <div *ngIf="mostAccidentDatas.length==0"></div>
              </div>

              <div class="row mar-0 row-align-second" *ngIf="!overView" style="margin-bottom: 10px;margin-top: 1px;">
                <div class="pad-0  ml-1  col-lg-6 col-xl-5  col-5 col-sm-5">
                  <div class="accidents-bar1"></div><span class="accidents-bar-span ">high impact</span>
                </div>
                <div class="pad-0  widget-align">
                  <div class="accidents-bar2"></div><span class="accidents-bar-span">impact</span>
                </div>
              </div>
              <div class="row mar-0 row-align-second" *ngIf="overView">
                <div class="ml-1 mr-3 pad-0  col-lg-6 col-xl-5  col-5 col-sm-5">
                  <div class="accidents-bar1"></div><span class="accidents-bar-span">high impact</span>
                </div>

                <div class="pad-0 widget-align2">
                  <div class="accidents-bar2"></div><span class="accidents-bar-span">impact</span>
                </div>
              </div>
              <div class="row" *ngIf="overView">
                <div style="margin-left: 8%" class="col-4 col-md-4 col-lg-6 col-xl-4 pad-0 mt-2 "
                  (click)="accidentdiv('assettype',null,null,true)">
                  <div class="text-center prodictive-item" [ngClass]="{'active-prodictive': accidentmenu=='assettype'}">
                    Asset type
                  </div>
                </div>
                <div class="col-4 pad-0 mt-2 widget-align" (click)="accidentdiv('operator',null,null,true)">
                  <div class="text-center prodictive-item" [ngClass]="{'active-prodictive': accidentmenu=='operator'}">
                    Operator
                  </div>
                </div>
                <div class="col-4 pad-0"></div>
              </div>



              <div class="row ">
                <div class="col-12 ">
                   <div class="empty-widget-msg" *ngIf="mostAccidentDatas.length==0 && overView==true">No data available
                  </div>
                  <!--<div class="empty-widget-msg-allsite" *ngIf="mostAccidentDatas.length==0 && overView==false">No data
                    available</div> -->
                    <!-- <div id="page"  *ngIf="mostAccidentDatas.length==0">
                      <div id="content_container">
                              <div id="content" class="empty-widget-msg-allsite">
                              No data available
                              </div>
                      </div>
                    </div> -->
                  <!-- If -->
                  <div class="widget-table" *ngIf="!overView && mostAccidentDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table">

                      <tr *ngFor="let item of mostAccidentDatas| slice:0:10; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="individual-site-click col-4  col-sm-4 col-md-3 col-lg-4">
                          <div (click)="siteidis(item)" matTooltip="{{item.SiteName}}">
                            {{item.SiteName?.length>13?item.SiteName.substring(0,11)+'...':item.SiteName}}</div>
                        </td>
                        <td class="col-3 col-sm-3 col-md-5 col-xl-4 col-lg-4">
                          <div *ngIf="item.HighImpact==0 && item.Impact==0">No Impact</div>
                          <div *ngIf="item.HighImpact!=0 || item.Impact!=0" class="progress accidents-progress full-width-with-margin">
                            <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width':item.range+'%'}">
                            </div>
                          </div>
                        </td>
                        <td class="text-right col-2 col-sm-2 col-md-1 col-lg-1 pl-0 col-xl-2"><span
                            style="color: #ea4256;">{{item.HighImpact}}</span>/{{item.Impact}}</td>
                      </tr>

                    </table>

                  </div>
                  <!-- Else -->
                  <div class="singlesite-widget" *ngIf="overView && mostAccidentDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">
                      <tr *ngFor="let item of mostAccidentDatas| slice:0:5; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td matTooltip="{{item.Name}}" class="individual-site-click col-4 col-sm-4 col-md-3 col-lg-4">
                          {{item.Name?.length>13?item.Name.substring(0,11)+'...':item.Name}}
                        </td>
                        <td class="col-3 col-sm-3 col-md-5 col-xl-4 col-lg-4">
                          <div *ngIf="item.HighImpact==0 && item.Impact==0">No Impact</div>
                          <div *ngIf="item.HighImpact!=0 || item.Impact!=0" class="progress accidents-progress full-width-with-margin">
                            <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width':item.range+'%'}">
                            </div>
                          </div>
                        </td>
                        <td class="text-right col-2 col-sm-2 col-md-1 col-lg-1 pl-0 col-xl-2"><span
                            style="color: #ea4256;">{{item.HighImpact}}</span>/{{item.Impact}}</td>
                      </tr>

                    </table>
                  </div>


                </div>

              </div>
              <div *ngIf="editWidgetFlag && Accident" (click)="Accident=!Accident" class="text-center mt-4"><img
                  src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div>
              <!-- <div *ngIf="editWidgetFlag && !Accident" (click)="Accident=!Accident" class="text-center mt-4"><img src="../../../assets/icon/icons-show-ic.png"
              alt=""> <span class="hide-text pl-1">SHOW</span></div> -->
            </div>
          </div>
          <!-- Site monitor alarms coloumns -->
          <div *ngIf="tempAlarm  && Alarm && equipment" class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="alarms">
            <div *ngIf="loadAlarm" class="loader-widget"></div>
            <div class="dash-box pad-10" [ngClass]="{'most-alarms-cl':siteidisget!='All Sites','loading-indicator2':loadAlarm==true}"
              [ngClass]="{'most-alarms-cl2':siteidisget=='All Sites'}" >
              <div class="container pl-4">
                <div class="row">
                  <div class="col-9 prodictive-title1 pad-0">
                    <div id="mostAlaramsTYpe" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                        aria-controls="dropdown-basic"
                        class="prod-text cursor">
                        ALARMS
                        <img class="cursor" (click)="loadAlarmProdictive(filterType,mostAlaramsTYpe=='MOST ALARMS'?'LEAST ALARMS':'MOST ALARMS')"
                        src="{{mostAlaramsTYpe != 'MOST ALARMS'?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                       
                        alt="{{mostAlaramsTYpe != 'MOST ALARMS'?'down-arrow':'up-arrow'}}">
                      </a>
                      
                    </div>
                   
                  </div>
                  <div *ngIf="(overView && mostAlarmDatas.length>5) || (!overView && mostAlarmDatas.length>10)"
                    class="col-3 prodictive-show pad-0 text-center" (click)="openMostAlarms()">Show all</div>
                  <div *ngIf="mostAlarmDatas.length==0"></div>
                </div>
              </div>
              <!-- <div class="row">
                <div class="col-lg-6 col-xl-5  col-5 col-sm-5 m-b-20 ml-1 mr-1" style="padding-left:8%;">
                  <div class="accidents-bar1"></div><span class="accidents-bar-span">unactioned</span>
                </div>
                <div class="col-5 ml-1 mr-1 m-b-20">
                  <div class="accidents-bar2"></div><span class="accidents-bar-span">actioned</span>
                </div>
              </div> -->
              
              <div class="row mar-0 row-align-second" *ngIf="!overView" style="margin-bottom: 10px;margin-top: 1px;">
                <div class="pad-0  ml-1  col-lg-6 col-xl-5  col-5 col-sm-5">
                  <div class="accidents-bar1"></div><span class="accidents-bar-span ">unactioned</span>
                </div>
                <div class="pad-0  widget-align">
                  <div class="accidents-bar2"></div><span class="accidents-bar-span">actioned</span>
                </div>
              </div>
              <div class="row" *ngIf="overView">
              <div class="col-lg-6 col-xl-5  col-5 col-sm-5 m-b-20 ml-1 mr-1" style="padding-left:8%;">
                <div class="accidents-bar1"></div><span class="accidents-bar-span">unactioned</span>
              </div>
              <div class="col-5 ml-1 mr-1 m-b-20">
                <div class="accidents-bar2"></div><span class="accidents-bar-span">actioned</span>
              </div>
            </div>
              <div class="row" style="height: 100%;">
                <div class="col-12">
                 <div class="empty-widget-msg" *ngIf="mostAlarmDatas.length==0 && overView==true">No data available
                  </div>
                  <div class="empty-widget-msg-allsite" *ngIf="mostAlarmDatas.length==0 && overView==false">No data
                    available</div> 
                    <!-- <div id="page"  *ngIf="mostAlarmDatas.length==0">
                      <div id="content_container">
                              <div id="content" class="empty-widget-msg-allsite">
                              No data available
                              </div>
                      </div>
                    </div> -->
                  <!-- If -->
                  <div class="widget-table" *ngIf="!overView && mostAlarmDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table ">
                      <tr *ngFor="let item of mostAlarmDatas| slice:0:10; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="individual-site-click col-5  col-sm-5 col-md-3 col-lg-4">
                          <div (click)="siteidis(item)" matTooltip="{{item.SiteName}}">
                            {{item.SiteName?.length>13?item.SiteName.substring(0,11)+'...':item.SiteName}}</div>
                        </td>
                        <td class="col-3 col-sm-3 col-md-5 col-xl-4 col-lg-4">
                          <div *ngIf="item.Unactioned==0 && item.Actioned==0">No Alarms</div>
                          <div *ngIf="item.Unactioned!=0 || item.Actioned!=0" class="progress accidents-progress full-width-with-margin">
                            <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width':item.range+'%'}">
                            </div>
                          </div>
                        </td>
                        <td class="text-right col-2 col-sm-2 col-md-1 col-lg-1 pl-0 col-xl-2"><span
                            style="color: #ea4256;">{{item.Unactioned}}</span><span
                            style="color: #57b8dc;">/{{item.Actioned}}</span></td>
                      </tr>

                    </table>

                  </div>
                  <!-- Else -->
                  <div class="singlesite-widget" *ngIf="overView && mostAlarmDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">
                      <tr *ngFor="let item of mostAlarmDatas| slice:0:5; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="col-4 col-sm-4 col-md-3 col-lg-4" matTooltip="{{item.AssetTypeName}}">
                          {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}}
                        </td>
                        <td class="col-3 col-sm-3 col-md-5 col-xl-4 col-lg-4">
                          <div *ngIf="item.Unactioned==0 && item.Actioned==0">No Alarms</div>
                          <div *ngIf="item.Unactioned!=0 || item.Actioned!=0" class="progress accidents-progress full-width-with-margin">
                            <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width':item.range+'%'}">
                            </div>
                          </div>
                        </td>
                        <td class="text-right col-2 col-sm-2 col-md-1 col-lg-1 pl-0 col-xl-2"><span
                            style="color: #ea4256;">{{item.Unactioned}}</span><span
                            style="color: #57b8dc;">/{{item.Actioned}}</span></td>
                      </tr>

                    </table>

                  </div>
                  <div *ngIf="editWidgetFlag && Alarm" (click)="Alarm=!Alarm" class="text-center mt-4"><img
                      src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div>
                  <!-- <div *ngIf="editWidgetFlag && !Alarm" (click)="Alarm=!Alarm" class="text-center mt-4"><img src="../../../assets/icon/icons-show-ic.png"
                alt=""> <span class="hide-text pl-1">SHOW</span></div> -->
                </div>
              </div>

            </div>
          </div>
          <!-- Site monitor Average coloumns -->
          <div *ngIf="tempAverage && average && (batteriesEnable || chargesEnable)"
            class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="tempAverage">
            <div *ngIf="loadMostAve" class="loader-widget"></div>
            <div class="dash-box pad-10" [ngClass]="{'loading-indicator2':loadMostAve==true}">
              <div class="container pl-4">
                <div class="row">
                  <div class="col-9 prodictive-title1 pad-0 m-b-8 productive-align-one">
                    <!--batteries-->
                    <div *ngIf="prodictivBatCharType=='batteries'" id="productive" class="btn-group" dropdown> <a
                        id="button-basic" dropdownToggle aria-controls="dropdown-basic"
                        class="prod-text cursor">
                        AVERAGE STATE
                        <img class="cursor" (click)="loadMostAverage(filterType,prodictivBatCharType,averages=='MAX AVG STATE'?'MIN AVG STATE':'MAX AVG STATE')"
                        src="{{averages!='MAX AVG STATE'?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                       
                        alt="{{averages!='MAX AVG STATE'?'down-arrow':'up-arrow'}}">
                      </a>
                      <!-- <ul id="dropdown-basic" *dropdownMenu role="menu" aria-labelledby="button-basic"
                        class="dropdown-menu dropdown-menu-right drop-down-width" style="border:0;">
                        <div *ngFor="let type of averageType;let i=index;">
                          <div id="productive{{i}}" (click)="loadMostAverage(mostAverageType,prodictivBatCharType,type)"
                            class="alarm-txt filter-dropdownList-height" [ngClass]="{'active-alarmmenu':type==averages}">
                            {{type}}
                          </div>
                        </div>
                      </ul> -->
                    </div>
                    <!--charges-->
                    <div *ngIf="prodictivBatCharType=='charges'" id="productive2" class="btn-group" dropdown> <a
                        id="button-basic" dropdownToggle aria-controls="dropdown-basic"
                        class="prod-text cursor">
                        AVERAGE AH TIME
                        <img class="cursor" (click)="loadMostAverage(filterType,prodictivBatCharType,averages2=='AVG AH TIME'?'AVG UNOCCUPIED TIME':'AVG AH TIME')"
                        src="{{averages2!='AVG AH TIME'?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                      
                        alt="{{averages2!='AVG AH TIME'?'down-arrow':'up-arrow'}}">
                      </a>
                      
                    </div>
                    
                  </div>
                  <div *ngIf="(overView && mostAverageDatas.length>5) || (!overView && mostAverageDatas.length>10)"
                    class="col-3 prodictive-show pad-0 text-center" (click)="openMostStateOrAverage()">Show
                    all
                  </div>
                  <div *ngIf="mostAverageDatas.length==0"></div>
                </div>
              </div>
              <div class="row">
                <div  class="margin-8"></div>
                <div *ngIf="batteriesEnable" class="col-4 col-md-4 col-lg-6 col-xl-4 mt-2 pad-0"
                  (click)="loadMostAverage(filterType,'batteries','MAX AVG STATE')">
                  <div>
                    <div id="productivebatteries2" class="text-center prodictive-item"
                      [ngClass]="{'active-prodictive': prodictivBatCharType=='batteries'}">
                      Batteries
                    </div>
                  </div>
                </div>
                <div *ngIf="chargesEnable" class="col-4 pad-0 mt-2 widget-align"
                  (click)="loadMostAverage(filterType,'charges','AVG AH TIME')">
                  <div>
                    <div id="productivecharges2" class="text-center prodictive-item"
                      [ngClass]="{'active-prodictive': prodictivBatCharType=='charges'}">
                      Chargers
                    </div>
                  </div>
                </div>
                <div class="col-4 pad-0"></div>
              </div>

              <div [ngClass]="{'productivity-table-top': filterType=='PAST 2 WEEKS'}" class="row">
                <div class="col-12">
                  <div class="empty-widget-msg" *ngIf="mostAverageDatas.length==0 && overView==true">No data available
                  </div>
                  <div class="empty-widget-msg-allsite" *ngIf="mostAverageDatas.length==0 && overView==false">No data
                    available</div>
                    <!-- <div id="page"  *ngIf="mostAverageDatas.length==0">
                      <div id="content_container">
                              <div id="content" class="empty-widget-msg-allsite">
                              No data available
                              </div>
                      </div>
                    </div> -->
                  <!-- If -->
                  <div class="widget-table1" *ngIf="!overView && mostAverageDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-7">

                      <tr class="row" *ngFor="let item of mostAverageDatas| slice:0:10; let ind=index;">
                        <td class="col-1 col-md-1 col-sm-1">
                        </td>
                        <td class="individual-site-click col-5  col-sm-5 col-md-3 col-lg-4">
                          <div (click)="siteidis(item)" matTooltip="{{item.SiteName}}">
                            <!-- {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}} -->
                            {{item.SiteName?.length>13?item.SiteName.substring(0,11)+'...':item.SiteName}}
                          </div>
                        </td>
                        <td *ngIf="(item.StateOfBattery!=undefined?item.StateOfBattery>=80:item.StateOfCharge>=80)"
                          class="col-5  col-sm-5 col-md-5 col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td
                          *ngIf="(item.StateOfBattery!=undefined?(item.StateOfBattery<=79 && item.StateOfBattery>=26):(item.StateOfCharge<=79 && item.StateOfCharge>=26))"
                          class="col-5  col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td
                          *ngIf="(item.StateOfBattery!=undefined?(item.StateOfBattery<=25 && item.StateOfBattery>=1):(item.StateOfCharge<=25 && item.StateOfCharge>=1))"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.StateOfBattery==0 || item.StateOfCharge==0" text-align="center"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="padding-left:3%;">
                          {{item.StateOfBattery!=undefined?'No Avg State':'No AH Time'}}</td>
                        <td text-align="center" class="col-1  col-sm-1 col-md-1  col-lg-1">
                          {{item.StateOfBattery}}{{item.StateOfCharge}}%</td>

                      </tr>

                    </table>
                  </div>
                  <!-- Else -->
                  <div class="singlesite-widget" *ngIf="overView && mostAverageDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">
                      <tr *ngFor="let item of mostAverageDatas| slice:0:5; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="individual-site-click col-5 col-sm-5 col-md-3 col-lg-4">
                          <div matTooltip="{{item.AssetTypeName}}">
                            {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}}
                          </div>
                        </td>
                        <td *ngIf="(item.StateOfBattery!=undefined?item.StateOfBattery>=80:item.StateOfCharge>=80)"
                          class="col-5  col-sm-5 col-md-5 col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td
                          *ngIf="(item.StateOfBattery!=undefined?(item.StateOfBattery<=79 && item.StateOfBattery>=26):(item.StateOfCharge<=79 && item.StateOfCharge>=26))"
                          class="col-5  col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td
                          *ngIf="(item.StateOfBattery!=undefined?(item.StateOfBattery<=25 && item.StateOfBattery>=1):(item.StateOfCharge<=25 && item.StateOfCharge>=1))"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.StateOfBattery==0 || item.StateOfCharge==0" text-align="center"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="padding-left:3%;">
                          {{item.StateOfBattery!=undefined?'No Avg State':'No AH Time'}}</td>
                        <td text-align="center" class="col-1 col-sm-1 col-md-1  col-lg-1">
                          {{item.StateOfBattery}}{{item.StateOfCharge}}%</td>
                      </tr>
                    </table>
                  </div>
                </div>


              </div>
              <div *ngIf="editWidgetFlag && average" (click)="average=!average" class="text-center mt-4"><img
                  src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div>
              <!-- <div *ngIf="editWidgetFlag && !average" (click)="average=!average" class="text-center mt-4"><img src="../../../assets/icon/icons-show-ic.png"
                alt=""> <span class="hide-text pl-1">SHOW</span></div> -->
            </div>
          </div>
          <!-- Site monitor Hottest coloumns -->
          <div *ngIf="tempHottest && hottest && batteriesEnable" class="col-md-12 col-lg-4 col-xl-4 m-b-25"
            id="tempHottest">
            <div *ngIf="loadMostHott" class="loader-widget"></div>
            <div class="dash-box pad-10" [ngClass]="{'loading-indicator2':loadMostHott==true}">
              <div class="container pl-4">
                <div class="row">
                  <div class="col-9 prodictive-title1 pad-0 m-b-8 productive-align-one">
                    <div id="productive" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                        aria-controls="dropdown-basic"
                        class="prod-text cursor">
                        TEMPERATURE
                        <img class="cursor" (click)="loadMostHottest(filterType,prodictivBatCharHottesType,hottests == 'MOST HOT BATTERY'?'LEAST HOT BATTERY':'MOST HOT BATTERY')"
                        src="{{hottests != 'MOST HOT BATTERY'?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                    
                        alt="{{hottests != 'MOST HOT BATTERY'?'down-arrow':'up-arrow'}}">
                      </a>
                     
                    </div>
                   
                  </div>
                  <div *ngIf="(overView && mostHottestDatas.length>5) || (!overView && mostHottestDatas.length>10)"
                    class="col-3 prodictive-show pad-0 m-b-25 text-center" (click)="openMostHottest()">Show
                    all
                  </div>
                  <div *ngIf="mostHottestDatas.length==0"></div>
                </div>
              </div>
              <div class="row">
                <div class="col-4 col-md-4 col-lg-6 col-xl-4 mt-2 pad-0 margin-8"
                  (click)="loadMostHottest(filterType,'batteries')">
                  <div>
                    <div id="productivebatteries2" class="text-center prodictive-item"
                      [ngClass]="{'active-prodictive': prodictivBatCharHottesType=='batteries'}">
                      Batteries
                    </div>
                  </div>
                </div>
                <div class="col-4 pad-0"></div>
              </div>

              <div [ngClass]="{'productivity-table-top': filterType=='PAST 2 WEEKS'}" class="row">
                <div class="col-12">
                   <div class="empty-widget-msg" *ngIf="mostHottestDatas.length==0 && overView==true">No data available
                  </div>
                  <div class="empty-widget-msg-allsite" *ngIf="mostHottestDatas.length==0 && overView==false">No data
                    available</div> 
                    <!-- <div id="page"  *ngIf="mostHottestDatas.length==0">
                      <div id="content_container">
                              <div id="content" class="empty-widget-msg-allsite">
                              No data available
                              </div>
                      </div>
                    </div> -->
                  <!-- If -->
                  <div class="widget-table1" *ngIf="!overView && mostHottestDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-7">

                      <tr class="row" *ngFor="let item of mostHottestDatas| slice:0:10; let ind=index;">
                        <td class="col-1 col-md-1 col-sm-1">
                        </td>
                        <td class="individual-site-click col-5  col-sm-5 col-md-3 col-lg-4">
                          <div (click)="siteidis(item)" matTooltip="{{item.SiteName}}">
                            <!-- {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}} -->
                            {{item.SiteName?.length>13?item.SiteName.substring(0,11)+'...':item.SiteName}}
                          </div>
                        </td>
                        <td *ngIf="item.HottestBattery>=80" class="col-5  col-sm-5 col-md-5 col-lg-5"
                          style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td *ngIf="item.HottestBattery<=79 && item.HottestBattery>=26"
                          class="col-5  col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.HottestBattery<=25 && item.HottestBattery>=1"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.HottestBattery==0" class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5"
                          style="padding-left:3%;">No Hot Battery
                        </td>
                        <td text-align="center" class="col-1  col-sm-1 col-md-1  col-lg-1">
                          {{item.HottestBattery}}</td>

                      </tr>

                    </table>
                  </div>
                  <!-- Else -->
                  <div class="singlesite-widget" *ngIf="overView && mostHottestDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">
                      <tr *ngFor="let item of mostHottestDatas| slice:0:5; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="individual-site-click col-5 col-sm-5 col-md-3 col-lg-4">
                          <div matTooltip="{{item.AssetTypeName}}">
                            {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}}
                          </div>
                        </td>
                        <td *ngIf="item.HottestBattery>=80" class="col-5  col-sm-5 col-md-5 col-lg-5"
                          style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td *ngIf="item.HottestBattery<=79 && item.HottestBattery>=26"
                          class="col-5  col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.HottestBattery<=25 && item.HottestBattery>=1"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.HottestBattery==0" class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5"
                          style="padding-left:3%;">No Hot Battery
                        </td>
                        <td text-align="center" class="col-1 col-sm-1 col-md-1  col-lg-1">
                          {{item.HottestBattery}}</td>
                      </tr>
                    </table>
                  </div>
                </div>


              </div>
              <div *ngIf="editWidgetFlag && hottest" (click)="hottest=!hottest" class="text-center mt-4"><img
                  src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div>
              <!-- <div *ngIf="editWidgetFlag && !hottest" (click)="hottest=!hottest" class="text-center mt-4"><img src="../../../assets/icon/icons-show-ic.png"
                alt=""> <span class="hide-text pl-1">SHOW</span></div> -->
            </div>
          </div>

          <!-- Site monitor Ecalarm coloumns -->
          <div *ngIf="tempEcAlarm && ecAlarm && (batteriesEnable || chargesEnable)"
            class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="tempEcAlarm">
            <div *ngIf="loadMostEc" class="loader-widget"></div>
            <div class="dash-box pad-10" [ngClass]="{'loading-indicator2':loadMostEc==true}">
              <div class="container pl-4">
                <div class="row">
                  <div class="col-9 prodictive-title1 pad-0 m-b-8 productive-align-one">
                    <!--batteries-->
                    <div *ngIf="prodictivEcAlarmType=='batteries'" id="productive" class="btn-group" dropdown> <a
                        id="button-basic" dropdownToggle aria-controls="dropdown-basic"
                        class="prod-text cursor">
                        ALARMS
                        <img class="cursor" (click)="loadMostEcAlarm(filterType,'batteries',ecAlarms == 'MOST ALARMS'?'LEAST ALARMS':'MOST ALARMS')"
                        src="{{ecAlarms != 'MOST ALARMS'?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                        
                        alt="{{ecAlarms != 'MOST ALARMS'?'down-arrow':'up-arrow'}}">
                      </a>
                    </div>
                    <!--Charges-->
                    <div *ngIf="prodictivEcAlarmType=='charges'" id="productive2" class="btn-group" dropdown> <a
                        id="button-basic" dropdownToggle aria-controls="dropdown-basic"
                        class="prod-text cursor">
                        FAULT CODES
                        <img class="cursor" (click)="loadMostEcAlarm(filterType,'charges',ecAlarms2 == 'MOST FAULT CODES'?'LEAST FAULT CODES':'MOST FAULT CODES')"
                        src="{{ecAlarms2 != 'MOST FAULT CODES'?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                        alt="{{ecAlarms2 != 'MOST FAULT CODES'?'down-arrow':'up-arrow'}}">
                      </a>
                    
                    </div>
                    <div id="mostEcAlarmType" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                        aria-controls="dropdown-basic"
                        class="prod-text cursor"
                        matTooltip="{{mostEcAlarmType}}">
                        {{!maxScreen && mostEcAlarmType?.length>4?mostEcAlarmType.substring(0,3)+'...':mostEcAlarmType}}
                      </a>
                     
                    </div>
                  </div>
                  <div *ngIf="(overView && mostEcAlarmDatas.length>5) || (!overView && mostEcAlarmDatas.length>10)"
                    class="col-3 prodictive-show pad-0 text-center" (click)="openMostAlrmsarmOrCharges()">Show
                    all
                  </div>
                  <div *ngIf="mostEcAlarmDatas.length==0"></div>
                </div>
              </div>
              <div class="row">
                <div class="margin-8"></div>
                <div *ngIf="batteriesEnable" class="col-4 col-md-4 col-lg-6 col-xl-4 mt-2 pad-0"
                  (click)="loadMostEcAlarm(filterType,'batteries','MOST ALARMS')">
                  <div>
                    <div id="productivebatteries2" class="text-center prodictive-item"
                      [ngClass]="{'active-prodictive': prodictivEcAlarmType=='batteries'}">
                      Batteries
                    </div>
                  </div>
                </div>
                <div *ngIf="chargesEnable" class="col-4 pad-0 mt-2 widget-align"
                  (click)="loadMostEcAlarm(filterType,'charges','MOST FAULT CODES')">
                  <div>
                    <div id="productivecharges2" class="text-center prodictive-item"
                      [ngClass]="{'active-prodictive': prodictivEcAlarmType=='charges'}">
                      Chargers
                    </div>
                  </div>
                </div>
                <div class="col-4 pad-0"></div>
              </div>

              <div [ngClass]="{'productivity-table-top': filterType=='PAST 2 WEEKS'}" class="row">
                <div class="col-12">
                  <div class="empty-widget-msg" *ngIf="mostEcAlarmDatas.length==0 && overView==true">No data available
                  </div>
                  <div class="empty-widget-msg-allsite" *ngIf="mostEcAlarmDatas.length==0 && overView==false">No data
                    available</div>
                    <!-- <div id="page"  *ngIf="mostEcAlarmDatas.length==0">
                      <div id="content_container">
                              <div id="content" class="empty-widget-msg-allsite">
                              No data available
                              </div>
                      </div>
                    </div> -->
                  <!-- If -->
                  <div class="widget-table1" *ngIf="!overView && mostEcAlarmDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-7">

                      <tr class="row" *ngFor="let item of mostEcAlarmDatas| slice:0:10; let ind=index;">
                        <td class="col-1 col-md-1 col-sm-1">
                        </td>
                        <td class="individual-site-click col-5  col-sm-5 col-md-3 col-lg-4">
                          <div (click)="siteidis(item)" matTooltip="{{item.SiteName}}">
                            {{item.SiteName?.length>13?item.SiteName.substring(0,11)+'...':item.SiteName}}
                          </div>
                        </td>
                         <td *ngIf="(item.AllAlarms!=undefined?item.AllAlarms>=80:item.AllFaults>=80)"
                          class="col-5  col-sm-5 col-md-5 col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td
                          *ngIf="(item.AllAlarms!=undefined?(item.AllAlarms<=79 && item.AllAlarms>=26):(item.AllFaults<=79 && item.AllFaults>=26))"
                          class="col-5  col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#e6b252'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td> 
                        <td
                          *ngIf="(item.AllAlarms!=undefined?(item.AllAlarms<26 && item.AllAlarms>=1):(item.AllFaults<26 && item.AllFaults>=1))"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#FFFF00'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="(item.AllAlarms!=undefined?(item.AllAlarms==0):(item.AllFaults==0))"
                          text-align="center" class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5"
                          style="padding-left:3%;">
                          {{item.AllAlarms!=undefined?'No Alarms':'No Fault Codes'}}</td>
                        <td text-align="center" class="col-1  col-sm-1 col-md-1  col-lg-1">
                          {{item.AllAlarms}}{{item.AllFaults}}</td>

                      </tr>

                    </table>
                  </div>
                  <!-- Else -->
                  <div class="singlesite-widget" *ngIf="overView && mostEcAlarmDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">
                      <tr *ngFor="let item of mostEcAlarmDatas| slice:0:5; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="individual-site-click col-5 col-sm-5 col-md-3 col-lg-4">
                          <div matTooltip="{{item.AssetTypeName}}">
                            {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}}
                          </div>
                        </td>
                        <td *ngIf="(item.AllAlarms!=undefined?item.AllAlarms>=80:item.AllFaults>=80)"
                          class="col-5  col-sm-5 col-md-5 col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td
                          *ngIf="(item.AllAlarms!=undefined?(item.AllAlarms<=79 && item.AllAlarms>=26):(item.AllFaults<=79 && item.AllFaults>=26))"
                          class="col-5  col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td
                          *ngIf="(item.AllAlarms!=undefined?(item.AllAlarms<=25 && item.AllAlarms>=1):(item.AllFaults<=25 && item.AllFaults>=1))"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#FFFF00'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="(item.AllAlarms!=undefined?(item.AllAlarms==0):(item.AllFaults==0))"
                          text-align="center" class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5"
                          style="padding-left:3%;">
                          {{item.AllAlarms!=undefined?'No Alarms':'No Fault Codes'}}</td>
                        <td text-align="center" class="col-1 col-sm-1 col-md-1  col-lg-1">
                          {{item.AllAlarms}}{{item.AllFaults}}</td>
                      </tr>
                    </table>
                  </div>
                </div>


              </div>
              <div *ngIf="editWidgetFlag && ecAlarm" (click)="ecAlarm=!ecAlarm" class="text-center mt-4"><img
                  src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div>
              <!-- <div *ngIf="editWidgetFlag && !ecAlarm" (click)="ecAlarm=!ecAlarm" class="text-center mt-4"><img src="../../../assets/icon/icons-show-ic.png"
                      alt=""> <span class="hide-text pl-1">SHOW</span></div> -->
            </div>
          </div>
        </div>


        <div class="row">
          <!-- Site monitor safety coloumns -->
          <div *ngIf="tempSafety  && Safety && equipment" class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="safety">
            <div *ngIf="loadSafty" class="loader-widget"></div>
            <div class="dash-box pad-10 final-resolution-align" style="min-height:100% !important" [ngClass]="{'loading-indicator2':loadSafty==true}">
              <div class="row mar-0" style="height:100%;">
                <div class="col-11 prodictive-title pad-0"><span>SAFETY COMPLIANCE</span>
                  <div id="saftyComplainceType" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                      aria-controls="dropdown-basic"
                      class="prod-text cursor">
                      {{saftyComplainceType}}
                    </a>
                    <ul id="dropdown-basic" *dropdownMenu role="menu" aria-labelledby="button-basic"
                      class="dropdown-menu dropdown-menu-right zero-border pt-0">
                      <!-- <div style="box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.12);width:175px;margin-left:25px;margin-top: -10%;"> -->
                      <div *ngFor="let type of saftyComplainceList;let i=index;">
                        <div id="saftyComplainceType{{i}}" (click)="loadSaftyComplaince(type)" class="alarm-txt filter-dropdownList-height"
                          [ngClass]="{'active-alarmmenu':type==saftyComplainceType}">{{type}}</div>
                      </div>
                      <!-- </div> -->
                    </ul>
                  </div>
                </div>
                <div class="col-1 prodictive-show pad-0 text-right"></div>
                <div class="col-12 final-resolution-row pad-0">
                  <table cellpadding="0" cellspacing="0" class="communication-table">
                    <tr>
                      <td width="34%">
                        <h6>{{saftyComplainceDatas?.Lockout}}</h6>
                        <p>MAINTENANCE LOCKOUT</p>
                      </td>
                      <td width="32%" valign="top">
                        <h6>{{saftyComplainceDatas?.Logout}}</h6>
                        <p>LOGOUT</p>
                      </td>
                      <td width="34%" valign="top">
                        <h6>{{saftyComplainceDatas?.SkippedChecklist}}</h6>
                        <p>SKIPPED CHECKLIST</p>
                      </td>
                    </tr>
                  </table>
                  <div *ngIf="editWidgetFlag && Safety" (click)="Safety=!Safety"
                class="text-center mt-5 battery-high-resolution-hide"><img src="../../../assets/icon/hide-ic.png"
                  alt=""> <span class="hide-text pl-1">HIDE</span></div>
                </div>
                        <!-- date picker start -->

                <!-- <div class="col-2 pad-0 text-right"><img src="assets/icon/arrow-left.png"
                    (click)="saftyComArrow('left')" class="batteries-arrow"></div>
                <div style="width:0;">
                  <input matInput [matDatepicker]="picker3" (dateChange)="saftyComplaDateChoose($event)" [min]="minDate"
                    [max]="maxDate" placeholder="Choose a date">
                  <mat-datepicker #picker3></mat-datepicker>
                </div>
                <div class="col-8 pad-0 text-center" style="cursor: pointer;">
                  <p class="batteries-date3" (click)="picker3.open()">{{fromDateSafty}} - {{toDateSafty}}</p>
                </div>

                <div class="col-2 pad-0 text-left"><img src="assets/icon/arrow-right.png"
                    (click)="saftyComArrow('right')" class="batteries-arrow"></div> -->

                    <!-- date picker end -->
              </div>
              
              <!-- <div *ngIf="editWidgetFlag && !Safety" (click)="Safety=!Safety" class="text-center mt-4"><img src="../../../assets/icon/icons-show-ic.png"
              alt=""> <span class="hide-text pl-1">SHOW</span></div> -->
            </div>
          </div>

          <!-- Site monitor maintenance coloumns -->
          <div *ngIf="tempMaintenance && Maintenance && equipment" class="col-md-12 col-lg-4 col-xl-4 m-b-25"
            id="maintenance">
            <div *ngIf="loadMaintenan" class="loader-widget"></div>
            <div class="dash-box pad-10 large-screen-size" [ngClass]="{'loading-indicator2':loadMaintenan==true}">
              <div class="row mar-0">
                <div class="col-11 prodictive-title pad-0"><span>MAINTENANCE</span></div>
                <div class="col-1 prodictive-show pad-0 text-right"></div>
                <div class="col-12 pad-0">
                  <canvas *ngIf="!noMaintenceRecord" #doughnutChart id="doughnutChart" class="responsive-dohnut"
                    style="margin: 5px 0px;"></canvas>
                  <div class="empty-widget-msg" *ngIf="noMaintenceRecord">No data available</div>
                </div>

              </div>
              <div *ngIf="editWidgetFlag && Maintenance" (click)="changeMaintenance()" class="text-center pt-3 mt-4">
                <img src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div>
              <!-- <div *ngIf="editWidgetFlag && !Maintenance" (click)="Maintenance=!Maintenance" class="text-center mt-4"><img
              src="../../../assets/icon/icons-show-ic.png" alt=""> <span class="hide-text pl-1">SHOW</span></div> -->
            </div>
          </div>
          <!-- Site monitor batteries coloumns -->
          <div *ngIf="tempBatteries && Batteries && batteriesEnable" class="col-md-12 col-lg-4 col-xl-4 m-b-25"
            id="batteries">
            <div *ngIf="loadBatt" class="loader-widget"></div>
            <div class="dash-box pad-10 final-resolution-align" style="min-height:100% !important" [ngClass]="{'loading-indicator2':loadBatt==true}">
              <div class="row mar-0" style="height:100%">
                <div class="col-11 prodictive-title pad-0"><span>BATTERIES</span>
                  <div id="batteriesType" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                      aria-controls="dropdown-basic"
                      class="prod-text cursor">
                      {{batteriesType}}
                    </a>
                    <ul id="dropdown-basic" *dropdownMenu role="menu" aria-labelledby="button-basic"
                      class="dropdown-menu dropdown-menu-right" style="border:0;">
                      <!-- <div style="box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.12);width:175px;margin-left:25px;    margin-top: -3%;"> -->
                      <div *ngFor="let type of batteriesTypeList;let i=index;">
                        <div id="batteriesType{{i}}" (click)="loadBatteries(type)" class="alarm-txt filter-dropdownList-height"
                          [ngClass]="{'active-alarmmenu':type==batteriesType}">{{type}}</div>
                      </div>
                      <!-- </div> -->
                    </ul>
                  </div>
                </div>
                <div class="col-1 prodictive-show pad-0 text-right"></div>
                <div class="col-12 pad-0">
                  <table cellpadding="0" cellspacing="0" class="communication-table">
                    <tr>
                      <td width="33%">
                        <h6>{{batteriesDatas?.ChargeHours}}<span>hrs</span></h6>
                        <p class="charged-txt">CHARGED
                        </p>
                      </td>
                      <td width="34%" valign="top">
                        <h6>{{batteriesDatas?.DischargeHours}}<span>hrs</span></h6>
                        <p>DISCHARGED</p>
                      </td>
                      <td width="33%" valign="top">
                        <h6>{{batteriesDatas?.IdleHours}}<span>hrs</span></h6>
                        <p>IDLE</p>
                      </td>
                    </tr>
                  </table>
                  <div *ngIf="editWidgetFlag && Batteries" (click)="Batteries=!Batteries"
                class="text-center mt-5 battery-high-resolution-hide battery-medium-resolution-hide"><img
                  src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div>
                </div>
                <!-- date picker start -->

                <!-- <div class="col-2 pad-0 text-right" style="padding-top:4%;"><img src="assets/icon/arrow-left.png"
                    class="batteries-arrow2" (click)="batteriesComArrow('left')"></div>
                <div style="width:0;">
                  <input matInput [matDatepicker]="picker4" (dateChange)="batteriesComplaDateChoose($event)"
                    [min]="minDate" [max]="maxDate" placeholder="Choose a date">
                  <mat-datepicker #picker4></mat-datepicker>
                </div>
                <div class="col-8 pad-0 text-center date-arrow-class" style="cursor: pointer;">
                  <p class="batteries-date3" (click)="picker4.open()" style="margin-top:13.5px">{{fromDateBatter}} -
                    {{toDateBatter}} </p>
                </div>

                <div class="col-2 pad-0 text-left" style="padding-top:4%;"><img src="assets/icon/arrow-right.png"
                    class="batteries-arrow2" (click)="batteriesComArrow('right')"></div> -->

                    <!-- date picker end -->

              </div>
              
              <!-- <div *ngIf="editWidgetFlag && !Batteries" (click)="Batteries=!Batteries" class="text-center mt-4"><img src="../../../assets/icon/icons-show-ic.png"
              alt=""> <span class="hide-text pl-1">SHOW</span></div> -->
            </div>
          </div>

          <!-- Site Equalization -->
          <div *ngIf="tempEqualization && equalization && batteriesEnable" class="col-md-12 col-lg-4 col-xl-4 m-b-25"
            id="maintenance">
            <div *ngIf="loadEqualizat" class="loader-widget"></div>
            <div class="dash-box pad-10 large-screen-size" [ngClass]="{'loading-indicator2':loadEqualizat==true}">
              <div class="row mar-0">
                <div class="col-11 prodictive-title pad-0"><span>EQUALIZATION BATTERIES</span></div>
                <div class="col-1 prodictive-show pad-0 text-right"></div>
                <div class="col-12 pad-0">
                  <canvas *ngIf="!equalizationRecord" #doughnutChartEqualization id="doughnutChartEqualization"
                    class="responsive-dohnut" style="margin: 5px 0px;"></canvas>
                  <div class="empty-widget-msg" *ngIf="equalizationRecord">No data available</div>
                </div>

              </div>
              <div *ngIf="editWidgetFlag && equalization" (click)="changeEqualization()" class="text-center mt-4"><img
                  src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div>
              <!-- <div *ngIf="editWidgetFlag && !equalization" (click)="equalization=!equalization" class="text-center mt-4"><img
                src="../../../assets/icon/icons-show-ic.png" alt=""> <span class="hide-text pl-1">SHOW</span></div> -->
            </div>
          </div>
          <!-- Site Equalization -->
          <div *ngIf="tempEqualizationCharge && equalizationCharge && chargesEnable"
            class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="equalizationCharge">
            <div *ngIf="loadEqualizationCha" class="loader-widget"></div>
            <div class="dash-box pad-10 large-screen-size" [ngClass]="{'loading-indicator2':loadEqualizationCha==true}">
              <div class="row mar-0">
                <div class="col-11 prodictive-title pad-0"><span>EQUALIZATION CHARGERS</span></div>
                <div class="col-1 prodictive-show pad-0 text-right"></div>
                <div class="col-12 pad-0">
                  <canvas *ngIf="!equalizationChargRecord" #doughnutChartEqualizationCharge
                    id="doughnutChartEqualizationCharge" class="responsive-dohnut" style="margin: 5px 0px;"></canvas>
                  <div class="empty-widget-msg" *ngIf="equalizationChargRecord">No data available</div>
                </div>

              </div>
              <div *ngIf="editWidgetFlag && equalizationCharge" (click)="changeEqualizationCharge()"
                class="text-center mt-4"><img src="../../../assets/icon/hide-ic.png" alt=""> <span
                  class="hide-text pl-1">HIDE</span></div>
              <!-- <div *ngIf="editWidgetFlag && !equalizationCharge" (click)="changeEqualizationCharge()" class="text-center mt-4"><img
                  src="../../../assets/icon/icons-show-ic.png" alt=""> <span class="hide-text pl-1">SHOW</span></div> -->
            </div>
          </div>
        </div>



        <div class="row">
          <!-- Site monitor safety coloumns -->
          <div *ngIf="tempCommunication && Communication && (equipment || chargesEnable || batteriesEnable)"
            class="col-md-12 col-lg-3 col-xl-3 m-b-25" id="communication">
            <div *ngIf="loadCommunicati" class="loader-widget"></div>
            <div class="dash-box-communication pad-15 final-box-communication-div" [ngClass]="{'loading-indicator2':loadCommunicati==true}">
              <div class="row mar-0">
                <div class="col-11 prodictive-title pad-0"><span>COMMUNICATION</span></div>
                <div class="col-1 prodictive-show pad-0 text-right"></div>
                <div class="col-12 pad-0">
                  <table cellpadding="0" cellspacing="0" class="communication-table m-t-25 m-b-10">
                    <tr>
                      <td width="50%">
                        <h6>{{communicationDatas?.OutOfRange}}</h6>
                        <p>OUT OF RANGE</p>
                      </td>
                      <td width="50%">
                        <h6 style="color:#4A4A4A">{{communicationDatas?.OverAllAssests}}</h6>
                        <p>TOTAL ASSETS</p>
                      </td>
                    </tr>
                  </table>
                  <div *ngIf="editWidgetFlag && Communication" (click)="Communication=!Communication"
                    class="text-center mt-4"><img src="../../../assets/icon/hide-ic.png" alt=""> <span
                      class="hide-text pl-1">HIDE</span></div>
                  <!-- <div *ngIf="editWidgetFlag && !Communication" (click)="Communication=!Communication" class="text-center mt-4"><img
                  src="../../../assets/icon/icons-show-ic.png" alt=""> <span class="hide-text pl-1">SHOW</span></div> -->
                </div>
              </div>
            </div>
          </div>
        </div>
        <br />
        <!-- Below Hide Widgets-->
        <div class="row" *ngIf="editWidgetFlag">


          <!-- Hidden widgets Lables-->
          <div *ngIf="editWidgetFlag" class="col-4 col-md-2">
            <h6 class="dash-h6">Hidden widgets</h6>
          </div>
          <div *ngIf="editWidgetFlag" class="col-5 col-md-9">
            <hr class="black-border">
          </div>
          <div *ngIf="editWidgetFlag" class="col-3 col-md-1" (click)="showHiddenWidgets()">
            <span class="show-all-text">Show All</span>
          </div>

          <!-- Site monitor prodictive coloumns -->

          <div *ngIf="tempProductive && !Productive && (equipment  || batteriesEnable )"
            class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="prodictive">
            <div class="dash-box pad-10">

              <div class="container pl-4">
                <div class="row">
                  <div class="col-9 prodictive-title1 pad-0 m-b-25 productive-align-one">
                    <div id="productive" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                        aria-controls="dropdown-basic"
                        class="prod-text cursor">
                        PRODUCTIVITY
                        <img class="cursor" (click)="loadMostProdictive(null,null,type)"
                        src="{{isAscendingOrder?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                        matTooltip="{{isAscendingOrder?'Least':'Most'}}"
                        alt="{{isAscendingOrder?'down-arrow':'up-arrow'}}">
                      </a>
                     
                    </div>
                    <div id="mostProdictiveType" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                        aria-controls="dropdown-basic"
                        class="prod-text cursor"
                        matTooltip="{{mostProdictiveType}}">
                        {{!maxScreen && mostProdictiveType?.length>5?mostProdictiveType.substring(0,6)+'...':mostProdictiveType}}
                      </a>
                      <ul id="dropdown-basic" *dropdownMenu role="menu" aria-labelledby="button-basic"
                        class="dropdown-menu dropdown-menu-right zero-border">
                        <!-- <div style="box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.12);width:175px;margin-left:25px;"> -->
                        <div *ngFor="let type of mostProdictiveTypeList;let i=index;">
                          <div id="mostProdictiveType{{i}}" (click)="loadMostProdictive(type)" class="alarm-txt filter-dropdownList-height"
                            [ngClass]="{'active-alarmmenu':type==mostProdictiveType}">{{type}}</div>
                        </div>
                        <!-- </div> -->
                      </ul>
                    </div>
                  </div>
                  <div
                    *ngIf="(overView && mostProdictiveDatas.length>5) || (!overView && mostProdictiveDatas.length>10)"
                    class="col-3 prodictive-show pad-0 m-b-25 text-center" (click)="openMostProductivityModel()">Show
                    all
                  </div>
                  <div *ngIf="mostProdictiveDatas.length==0"></div>
                </div>
              </div>
              <div class="row">
                <div class="margin-8">
                  <div *ngIf='equipment' class="col-4 col-md-4 col-lg-6 col-xl-4 mt-2 mr-4 pad-0"
                    (click)="loadMostProdictive(mostProdictiveType,'Equipment',null,true)">
                    <div>
                      <div id="productiveEquipment" class="text-center prodictive-item"
                        [ngClass]="{'active-prodictive': prodictivemenu=='Equipment'}">
                        Equipment
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf='batteriesEnable' class="col-4 pad-0 mt-2 widget-align"
                  (click)="loadMostProdictive(mostProdictiveType,'Batteries',null,true)">
                  <div>
                    <div id="productiveBatteries" class="text-center prodictive-item"
                      [ngClass]="{'active-prodictive': prodictivemenu=='Batteries'}">
                      Batteries
                    </div>
                  </div>
                </div>
                <div class="col-4 pad-0"></div>
              </div>

              <div [ngClass]="{'productivity-table-top': mostProdictiveType=='PAST 2 WEEKS'}" class="row">
                <div class="col-12">
              <!--     <div id="page"  *ngIf="mostProdictiveDatas.length==0">
                    <div id="content_container">
                            <div id="content" class="empty-widget-msg-allsite">
                            No data available
                            </div>
                    </div>
                  </div>-->
                   <div class="empty-widget-msg" *ngIf="mostProdictiveDatas.length==0">No data available</div> 
                  <!-- If -->
                  <div class="widget-table1" *ngIf="!overView && mostProdictiveDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-7">

                      <tr class="row" *ngFor="let item of mostProdictiveDatas| slice:0:10; let ind=index;">
                        <td class="col-1 col-md-1 col-sm-1">
                        </td>
                        <td class="individual-site-click col-5  col-sm-5 col-md-3 col-lg-4">
                          <div (click)="siteidis(item)" matTooltip="{{item.SiteName}}">
                            {{item.SiteName?.length>13?item.SiteName.substring(0,11)+'...':item.SiteName}}</div>
                        </td>
                        <td *ngIf="item.MostProductive>=80" class="col-5  col-sm-5 col-md-5 col-lg-5"
                          style="margin-top:2.5%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td *ngIf="item.MostProductive<=79 && item.MostProductive>=26"
                          class="col-5  col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.5%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.MostProductive<=25 && item.MostProductive>=1"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.5%;">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.MostProductive==0" class="col-5 col-sm-5 col-md-5 col-lg-5">Not
                          Productive
                        </td>
                        <td text-align="center" class="col-1  col-sm-1 col-md-1  col-lg-1">{{item.MostProductive}}%</td>

                      </tr>
                    </table>
                  </div>

                  <!-- Else -->
                  <div class="singlesite-widget" *ngIf="overView && mostProdictiveDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">
                      <tr *ngFor="let item of mostProdictiveDatas| slice:0:5; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="individual-site-click col-5 col-sm-5 col-md-3 col-lg-4">
                          <div matTooltip="{{item.AssetTypeName}}">
                            {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}}
                          </div>
                        </td>
                        <td *ngIf="item.MostProductive>=80" class="col-5  col-sm-5 col-md-5 col-lg-5"
                          style="margin-top:2.5%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td *ngIf="item.MostProductive<=79 && item.MostProductive>=26"
                          class="col-5  col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.5%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.MostProductive<=25 && item.MostProductive>=1"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.5%;">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.MostProductive==0" class="col-5 col-sm-5 col-md-5 col-lg-5 ">Not
                          Productive
                        </td>
                        <td text-align="center" class="col-1 col-sm-1 col-md-1  col-lg-1">{{item.MostProductive}}%</td>
                      </tr>

                    </table>
                  </div>
                </div>


              </div>
              <!-- <div *ngIf="editWidgetFlag && Productive" (click)="Productive=!Productive" class="text-center mt-4"><img
                src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div> -->
              <div *ngIf="editWidgetFlag && !Productive" (click)="Productive=!Productive" class="text-center mt-4"><img
                  src="../../../assets/icon/icons-show-ic.png" alt=""> <span class="hide-text pl-1">SHOW</span></div>
            </div>
          </div>
          <!-- Site monitor accidents coloumns -->
          <div *ngIf="tempAccident && !Accident && equipment" class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="accidents">
            <div class="dash-box pad-10">
              <div class="row mar-0 row-align-second">
                <div class="col-9 prodictive-title1 pad-0">
                  <div id="accident" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                      aria-controls="dropdown-basic"
                      class="prod-text cursor">
                      ACCIDENTS
                      <img class="cursor" (click)="loadAccidentProdictive(null,null,type)"
                        src="{{isAscendingOrder?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                        matTooltip="{{isAscendingOrder?'Least':'Most'}}"
                        alt="{{isAscendingOrder?'down-arrow':'up-arrow'}}">
                    </a>
                   
                  </div>

                  <div id="mostAccidentType" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                      aria-controls="dropdown-basic"
                      class="prod-text cursor"
                      matTooltip="{{mostAccidentType}}">
                      {{!maxScreen && mostAccidentType?.length>5?mostAccidentType.substring(0,6)+'...':mostAccidentType}}
                    </a>
                    <ul id="dropdown-basic" *dropdownMenu role="menu" aria-labelledby="button-basic"
                      class="dropdown-menu dropdown-menu-right zero-border">
                      <!-- <div style="box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.12);width:175px;margin-left:25px;"> -->
                      <div *ngFor="let type of mostAccidentTypeList;let i=index;">
                        <div id="mostAccidentType{{i}}" (click)="loadAccidentProdictive(type)" class="alarm-txt filter-dropdownList-height"
                          [ngClass]="{'active-alarmmenu':type==mostAccidentType}">{{type}}</div>
                      </div>
                      <!-- </div> -->
                    </ul>
                  </div>
                </div>
                <div *ngIf="(overView && mostAccidentDatas.length>5) || (!overView && mostAccidentDatas.length>10)"
                  class="col-3 prodictive-show pad-0 text-center" (click)="openMostAccident()">Show all</div>
                <div *ngIf="mostAccidentDatas.length==0"></div>
              </div>

              <div class="row mar-0 row-align-second" *ngIf="!overView">
                <div class="pad-0 m-b-20 ml-1  col-lg-6 col-xl-5  col-5 col-sm-5">
                  <div class="accidents-bar1"></div><span class="accidents-bar-span ">high impact</span>
                </div>
                <div class="pad-0 m-b-20 widget-align">
                  <div class="accidents-bar2"></div><span class="accidents-bar-span">impact</span>
                </div>
              </div>
              <div class="row mar-0 row-align-second" *ngIf="overView">
                <div class="ml-1 mr-3 pad-0  col-lg-6 col-xl-5  col-5 col-sm-5">
                  <div class="accidents-bar1"></div><span class="accidents-bar-span">high impact</span>
                </div>

                <div class="pad-0 widget-align2">
                  <div class="accidents-bar2"></div><span class="accidents-bar-span">impact</span>
                </div>
              </div>
              <div class="row" *ngIf="overView">
                <div style="margin-left: 8%" class="col-4 col-lg-6 col-md-4 col-xl-4 pad-0 mt-2 "
                  (click)="accidentdiv('assettype')">
                  <div class="text-center prodictive-item" [ngClass]="{'active-prodictive': accidentmenu=='assettype'}">
                    Asset type
                  </div>
                </div>
                <div class="col-4 pad-0 mt-2 widget-align" (click)="accidentdiv('operator')">
                  <div class="text-center prodictive-item" [ngClass]="{'active-prodictive': accidentmenu=='operator'}">
                    Operator
                  </div>
                </div>
                <div class="col-4 pad-0"></div>
              </div>



              <div class="row ">
                <div class="col-12 ">
                  <div class="empty-widget-msg" *ngIf="mostAccidentDatas.length==0">No data available</div>
                  <!-- If -->
                  <div class="widget-table" *ngIf="!overView && mostAccidentDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">

                      <tr *ngFor="let item of mostAccidentDatas| slice:0:10; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="individual-site-click col-4  col-sm-4 col-md-3 col-lg-4">
                          <div (click)="siteidis(item)" matTooltip="{{item.SiteName}}">
                            {{item.SiteName?.length>13?item.SiteName.substring(0,11)+'...':item.SiteName}}</div>
                        </td>
                        <td class="col-5 col-sm-5 col-md-5 col-xl-3 col-lg-5 margin-3">
                          <div class="progress accidents-progress full-width">
                            <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width':item.range+'%'}">
                            </div>
                          </div>
                        </td>
                        <td class="text-right col-2 col-sm-2 col-md-1 col-lg-1 pl-0 col-xl-3"><span
                            style="color: #ea4256;">{{item.HighImpact}}</span>/{{item.Impact}}</td>
                      </tr>
                      <!-- <tr>
                  <td>East Javon</td>
                  <td>
                    <div class="progress accidents-progress" style="width:89%;">
                      <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:40%">
                      </div>
                    </div>
                  </td>
                  <td class="text-right"><span style="color: #ea4256;">3</span>/9</td>
                </tr>
                <tr>
                  <td>Kuhicton</td>
                  <td>
                    <div class="progress accidents-progress" style="width:80%;">
                      <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:0%">
                      </div>
                    </div>
                  </td>
                  <td class="text-right">8</td>
                </tr>
                <tr>
                  <td>East Wilhelmineton</td>
                  <td>
                    <div class="progress accidents-progress" style="width:70%;">
                      <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:0%">
                      </div>
                    </div>
                  </td>
                  <td class="text-right">7</td>
                </tr>
                <tr>
                  <td>Jewelport</td>
                  <td>
                    <div class="progress accidents-progress" style="width:70%;">
                      <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:18%">
                      </div>
                    </div>
                  </td>
                  <td class="text-right"><span style="color: #ea4256;">1</span>/7</td>
                </tr>
                <tr>
                  <td>Emersonchester</td>
                  <td>
                    <div class="progress accidents-progress" style="width:70%;">
                      <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:0%">
                      </div>
                    </div>
                  </td>
                  <td class="text-right">7</td>
                </tr>
                <tr>
                  <td>Newtonborough</td>
                  <td>
                    <div class="progress accidents-progress" style="width:63%;">
                      <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:0%">
                      </div>
                    </div>
                  </td>
                  <td class="text-right">6</td>
                </tr>
                <tr>
                  <td>Connerport</td>
                  <td>
                    <div class="progress accidents-progress" style="width:55%;">
                      <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:21%">
                      </div>
                    </div>
                  </td>
                  <td class="text-right"><span style="color: #ea4256;">1</span>/5</td>
                </tr>
                <tr>
                  <td>Elisaton</td>
                  <td>
                    <div class="progress accidents-progress" style="width:40%;">
                      <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:0%">
                      </div>
                    </div>
                  </td>
                  <td class="text-right">4</td>
                </tr>
                <tr>
                  <td>Thaddeuschester</td>
                  <td>
                    <div class="progress accidents-progress" style="width:10%;">
                      <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:100%">
                      </div>
                    </div>
                  </td>
                  <td class="text-right"><span style="color: #ea4256;">1</span></td>
                </tr> -->
                    </table>

                  </div>
                  <!-- Else -->
                  <div class="singlesite-widget" *ngIf="overView && mostAccidentDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">
                      <tr *ngFor="let item of mostAccidentDatas| slice:0:5; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td matTooltip="{{item.Name}}" class="individual-site-click col-4 col-sm-4 col-md-3 col-lg-4">
                          {{item.Name?.length>13?item.Name.substring(0,11)+'...':item.Name}}

                        </td>
                        <td class="col-5 col-sm-5 col-md-5 col-xl-3 col-lg-5 margin-3">
                          <div class="progress accidents-progress full-width margin-3">
                            <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width':item.range+'%'}">
                            </div>
                          </div>
                        </td>
                        <td class="text-right col-2 col-sm-2 col-md-1 col-lg-1 pl-0 col-xl-3"><span
                            style="color: #ea4256;">{{item.HighImpact}}</span>/{{item.Impact}}</td>
                      </tr>
                      <!-- <tr>
                    <td>Asset type #2</td>
                    <td>
                      <div class="progress accidents-progress" style="width:89%;">
                        <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:40%">
                        </div>
                      </div>
                    </td>
                    <td class="text-right"><span style="color: #ea4256;">3</span>/9</td>
                  </tr>
                  <tr>
                    <td>Asset type #3</td>
                    <td>
                      <div class="progress accidents-progress" style="width:80%;">
                        <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:0%">
                        </div>
                      </div>
                    </td>
                    <td class="text-right">8</td>
                  </tr>
                  <tr>
                    <td>Asset type #4</td>
                    <td>
                      <div class="progress accidents-progress" style="width:70%;">
                        <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:0%">
                        </div>
                      </div>
                    </td>
                    <td class="text-right">7</td>
                  </tr>
                  <tr>
                    <td>Asset type #5</td>
                    <td>
                      <div class="progress accidents-progress" style="width:70%;">
                        <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:18%">
                        </div>
                      </div>
                    </td>
                    <td class="text-right"><span style="color: #ea4256;">1</span>/7</td>
                  </tr> -->
                    </table>
                  </div>


                </div>

              </div>
              <!-- <div *ngIf="editWidgetFlag && Accident" (click)="Accident=!Accident" class="text-center mt-4"><img
                    src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div> -->
              <div *ngIf="editWidgetFlag && !Accident" (click)="Accident=!Accident" class="text-center mt-4"><img
                  src="../../../assets/icon/icons-show-ic.png" alt=""> <span class="hide-text pl-1">SHOW</span></div>
            </div>
          </div>
          <!-- Site monitor alarms coloumns -->
          <div *ngIf="tempAlarm  && !Alarm && equipment" class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="alarms">
            <div class="dash-box pad-10 " [ngClass]="{'most-alarms-cl':siteidisget!='All Sites'}"
              [ngClass]="{'most-alarms-cl2':siteidisget=='All Sites'}">
              <div class="container pl-4">
                <div class="row">
                  <div class="col-9 prodictive-title1 pad-0">
                    <div id="mostAlaramsTYpe" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                        aria-controls="dropdown-basic"
                        class="prod-text cursor">
                        ALARMS
                        <img class="cursor" (click)="loadAlarmProdictive(null,null,type,true)"
                        src="{{isAscendingOrderAlarm?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                        matTooltip="{{isAscendingOrderAlarm?'Least':'Most'}}"
                        alt="{{isAscendingOrderAlarm?'down-arrow':'up-arrow'}}">
                      </a>
                      <!-- <ul id="dropdown-basic" *dropdownMenu role="menu" aria-labelledby="button-basic"
                        class="dropdown-menu dropdown-menu-right" style="border:0;">

                        <div *ngFor="let type of mostAlarams;let i=index;">
                          <div id="mostAlaramsTYpe{{i}}" (click)="loadAlarmProdictive(mostAlarmType,type)"
                            class="alarm-txt filter-dropdownList-height"
                            [ngClass]="{'active-alarmmenu':type==mostAlaramsTYpe}">
                            {{type}}</div>
                        </div>

                      </ul> -->
                    </div>
                    <div id="mostAlarmType" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                        aria-controls="dropdown-basic"
                        class="prod-text cursor"
                        matTooltip="{{mostAlarmType}}">
                        {{!maxScreen && mostAlarmType?.length>5?mostAlarmType.substring(0,6)+'...':mostAlarmType}}
                      </a>
                      <!-- <ul id="dropdown-basic" *dropdownMenu role="menu" aria-labelledby="button-basic"
                        class="dropdown-menu dropdown-menu-right" style="border:0;">
                        <div style="box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.12);width:175px;margin-left:25px;">
                        <div *ngFor="let type of mostAlarmTypeList;let i=index;">
                          <div id="mostAlarmType{{i}}" (click)="loadAlarmProdictive(type)" class="alarm-txt filter-dropdownList-height"
                            [ngClass]="{'active-alarmmenu':type==mostAlarmType}">{{type}}</div>
                        </div>
                        </div>
                      </ul> -->
                    </div>
                  </div>
                  <div *ngIf="(overView && mostAlarmDatas.length>5) || (!overView && mostAlarmDatas.length>10)"
                    class="col-3 prodictive-show pad-0 text-center" (click)="openMostAlarms()">Show all</div>
                  <div *ngIf="mostAlarmDatas.length==0"></div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6 col-xl-5  col-5 col-sm-5 m-b-20 ml-1 mr-1" style="padding-left:8%;">
                  <div class="accidents-bar1"></div><span class="accidents-bar-span">unactioned</span>
                </div>
                <div class="col-5 ml-1 mr-1 m-b-20">
                  <div class="accidents-bar2"></div><span class="accidents-bar-span">actioned</span>
                </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <div class="empty-widget-msg" *ngIf="mostAlarmDatas.length==0">No data available</div>
                  <!-- If -->
                  <div class="widget-table" *ngIf="!overView && mostAlarmDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">
                      <tr *ngFor="let item of mostAlarmDatas| slice:0:10; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="individual-site-click col-5  col-sm-5 col-md-3 col-lg-4">
                          <div (click)="siteidis(item)" matTooltip="{{item.SiteName}}">
                            {{item.SiteName?.length>13?item.SiteName.substring(0,11)+'...':item.SiteName}}</div>
                        </td>

                        <td class="col-3 col-sm-3 col-md-5 col-xl-3 col-lg-3 col-xl-3">
                          <div *ngIf="item.Unactioned==0 && item.Actioned==0">No Alarms</div>
                          <div *ngIf="item.Unactioned!=0 || item.Actioned!=0" class="progress accidents-progress full-width margin-3">
                            <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width':item.range+'%'}">
                            </div>
                          </div>
                        </td>
                        <td class="text-right col-2 col-sm-2 col-md-1 col-lg-1 pl-0 col-xl-3"><span
                            style="color: #ea4256;">{{item.Unactioned}}</span><span
                            style="color: #57b8dc;">/{{item.Actioned}}</span></td>
                      </tr>
                      <!-- <tr>
              <td>East Javon</td>
              <td>
                <div class="progress accidents-progress" style="width:94%;">
                  <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:50%">
                  </div>
                </div>
              </td>
              <td class="text-right"><span style="color: #ea4256;">60</span>/112</td>
            </tr>
            <tr>
              <td>Kuhicton</td>
              <td>
                <div class="progress accidents-progress" style="width:88%;">
                  <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:30%">
                  </div>
                </div>
              </td>
              <td class="text-right"><span style="color: #ea4256;">25</span>/109</td>
            </tr>
            <tr>
              <td>East Wilhelmineton</td>
              <td>
                <div class="progress accidents-progress" style="width:80%;">
                  <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:20%">
                  </div>
                </div>
              </td>
              <td class="text-right"><span style="color: #ea4256;">11</span>/98</td>
            </tr>
            <tr>
              <td>Jewelport</td>
              <td>
                <div class="progress accidents-progress" style="width:79%;">
                  <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:70%">
                  </div>
                </div>
              </td>
              <td class="text-right"><span style="color: #ea4256;">56</span>/96</td>
            </tr>
            <tr>
              <td>Emersonchester</td>
              <td>
                <div class="progress accidents-progress" style="width:80%;">
                  <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:5%">
                  </div>
                </div>
              </td>
              <td class="text-right"><span style="color: #ea4256;">5</span>/94</td>
            </tr>
            <tr>
              <td>Newtonborough</td>
              <td>
                <div class="progress accidents-progress" style="width:75%;">
                  <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:10%">
                  </div>
                </div>
              </td>
              <td class="text-right"><span style="color: #ea4256;">12</span>/80</td>
            </tr>
            <tr>
              <td>Connerport</td>
              <td>
                <div class="progress accidents-progress" style="width:60%;">
                  <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:0%">
                  </div>
                </div>
              </td>
              <td class="text-right">65</td>
            </tr>
            <tr>
              <td>Elisaton</td>
              <td>
                <div class="progress accidents-progress" style="width:40%;">
                  <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:0%">
                  </div>
                </div>
              </td>
              <td class="text-right">4</td>
            </tr>
            <tr>
              <td>Thaddeuschester</td>
              <td>
                <div class="accidents-bar-span">no alarms</div>
              </td>
              <td class="text-right">0</td>
            </tr> -->
                    </table>

                  </div>
                  <!-- Else -->
                  <div class="singlesite-widget" *ngIf="overView && mostAlarmDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">
                      <tr *ngFor="let item of mostAlarmDatas| slice:0:5; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="col-4 col-sm-4 col-md-3 col-lg-4" matTooltip="{{item.AssetTypeName}}">
                          {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}}
                        </td>
                        <td class="col-3 col-sm-3 col-md-5 col-xl-3 col-lg-3">
                          <div *ngIf="item.Unactioned==0 && item.Actioned==0">No Alarms</div>
                          <div *ngIf="item.Unactioned!=0 || item.Actioned!=0" class="progress accidents-progress full-width margin-3">
                            <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width':item.range+'%'}">
                            </div>
                          </div>
                        </td>
                        <td class="text-right col-2 col-sm-2 col-md-1 col-lg-1 pl-0 col-xl-3"><span
                            style="color: #ea4256;">{{item.Unactioned}}</span><span
                            style="color: #57b8dc;">/{{item.Actioned}}</span></td>
                      </tr>
                      <!-- <tr>
                <td>Alarm type #2</td>
                <td>
                  <div class="progress accidents-progress" style="width:94%;">
                    <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:50%">
                    </div>
                  </div>
                </td>
                <td class="text-right"><span style="color: #ea4256;">60</span>/112</td>
              </tr>
              <tr>
                <td>Alarm type #3</td>
                <td>
                  <div class="progress accidents-progress" style="width:88%;">
                    <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:30%">
                    </div>
                  </div>
                </td>
                <td class="text-right"><span style="color: #ea4256;">25</span>/109</td>
              </tr>
              <tr>
                <td>Alarm type #4</td>
                <td>
                  <div class="progress accidents-progress" style="width:80%;">
                    <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:20%">
                    </div>
                  </div>
                </td>
                <td class="text-right"><span style="color: #ea4256;">11</span>/98</td>
              </tr>
              <tr>
                <td>Alarm type #5</td>
                <td>
                  <div class="progress accidents-progress" style="width:79%;">
                    <div class="progress-bar accidents-progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:70%">
                    </div>
                  </div>
                </td>
                <td class="text-right"><span style="color: #ea4256;">56</span>/96</td>
              </tr> -->
                    </table>

                  </div>
                  <!-- <div *ngIf="editWidgetFlag && Alarm" (click)="Alarm=!Alarm" class="text-center mt-4"><img
                      src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div> -->
                  <div *ngIf="editWidgetFlag && !Alarm" (click)="Alarm=!Alarm" class="text-center mt-4"><img
                      src="../../../assets/icon/icons-show-ic.png" alt=""> <span class="hide-text pl-1">SHOW</span>
                  </div>
                </div>
              </div>

            </div>
          </div>

          <!-- Site monitor Average coloumns -->
          <div *ngIf="tempAverage && !average && (batteriesEnable || chargesEnable)"
            class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="tempAverage">
            <div class="dash-box pad-10">
              <div class="container pl-4">
                <div class="row">
                  <div class="col-9 prodictive-title1 pad-0 m-b-25 productive-align-one">
                    <!--batteries-->
                    <div *ngIf="prodictivBatCharType=='batteries'" id="productive" class="btn-group" dropdown> <a
                        id="button-basic" dropdownToggle aria-controls="dropdown-basic"
                        class="prod-text cursor">
                        AVERAGE STATE
                        <img class="cursor" (click)="loadMostAverage(null,null,type)"
                        src="{{isAscendingOrderAvg1?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                        matTooltip="{{isAscendingOrderAvg1?'Least':'Most'}}"
                        alt="{{isAscendingOrderAvg1?'down-arrow':'up-arrow'}}">
                      </a>
                      
                    </div>
                    <!--charges-->
                    <div *ngIf="prodictivBatCharType=='charges'" id="productive2" class="btn-group" dropdown> <a
                        id="button-basic" dropdownToggle aria-controls="dropdown-basic"
                        class="prod-text cursor">
                        AVERAGE AH TIME
                        <img class="cursor" (click)="loadMostAverage(null,null,type)"
                        src="{{isAscendingOrderAvg2?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                        matTooltip="{{isAscendingOrderAvg2?'Least':'Most'}}"
                        alt="{{isAscendingOrderAvg2?'down-arrow':'up-arrow'}}">
                      </a>
                     
                    </div>
                    <div id="mostAverageType" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                        aria-controls="dropdown-basic"
                        class="prod-text cursor"
                        matTooltip="{{mostAverageType}}">
                        {{!maxScreen && mostAverageType?.length>4?mostAverageType.substring(0,3)+'...':mostAverageType}}
                      </a>
                      
                    </div>
                  </div>
                  <div *ngIf="(overView && mostAverageDatas.length>5) || (!overView && mostAverageDatas.length>10)"
                    class="col-3 prodictive-show pad-0 text-center" (click)="openMostStateOrAverage()">Show
                    all
                  </div>
                  <div *ngIf="mostAverageDatas.length==0"></div>
                </div>
              </div>
              <div class="row">
                <div class="margin-8"></div>
                <div *ngIf="batteriesEnable" class="col-4 col-md-4 col-lg-6 col-xl-4 mt-2 pad-0"
                  (click)="loadMostAverage(mostAverageType,'batteries')">
                  <div>
                    <div id="productivebatteries2" class="text-center prodictive-item"
                      [ngClass]="{'active-prodictive': prodictivBatCharType=='batteries'}">
                      Batteries
                    </div>
                  </div>
                </div>
                <div *ngIf="chargesEnable" class="col-4 pad-0 mt-2 widget-align"
                  (click)="loadMostAverage(mostAverageType,'charges')">
                  <div>
                    <div id="productivecharges2" class="text-center prodictive-item"
                      [ngClass]="{'active-prodictive': prodictivBatCharType=='charges'}">
                      Chargers
                    </div>
                  </div>
                </div>
                <div class="col-4 pad-0"></div>
              </div>

              <div [ngClass]="{'productivity-table-top': mostAverageType=='PAST 2 WEEKS'}" class="row">
                <div class="col-12">
                  <div class="empty-widget-msg" *ngIf="mostAverageDatas.length==0">No data available</div>
                  <!-- If -->
                  <div class="widget-table1" *ngIf="!overView && mostAverageDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-7">

                      <tr class="row" *ngFor="let item of mostAverageDatas| slice:0:10; let ind=index;">
                        <td class="col-1 col-md-1 col-sm-1">
                        </td>
                        <td class="individual-site-click col-5  col-sm-5 col-md-3 col-lg-4">
                          <div (click)="siteidis(item)" matTooltip="{{item.SiteName}}">
                            <!-- {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}} -->
                            {{item.SiteName?.length>13?item.SiteName.substring(0,11)+'...':item.SiteName}}
                          </div>
                        </td>
                        <td *ngIf="(item.StateOfBattery!=undefined?item.StateOfBattery>=80:item.StateOfCharge>=80)"
                          class="col-5  col-sm-5 col-md-5 col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td
                          *ngIf="(item.StateOfBattery!=undefined?(item.StateOfBattery<=79 && item.StateOfBattery>=26):(item.StateOfCharge<=79 && item.StateOfCharge>=26))"
                          class="col-5  col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td
                          *ngIf="(item.StateOfBattery!=undefined?(item.StateOfBattery<=25 && item.StateOfBattery>=1):(item.StateOfCharge<=25 && item.StateOfCharge>=1))"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.StateOfBattery==0 || item.StateOfCharge==0" text-align="center"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="padding-left:3%;">
                          {{item.StateOfBattery!=undefined?'No Avg State':'No AH Time'}}</td>
                        <td text-align="center" class="col-1  col-sm-1 col-md-1  col-lg-1">
                          {{item.StateOfBattery}}{{item.StateOfCharge}}%</td>

                      </tr>

                    </table>
                  </div>
                  <!-- Else -->
                  <div class="singlesite-widget" *ngIf="overView && mostAverageDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">
                      <tr *ngFor="let item of mostAverageDatas| slice:0:5; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="individual-site-click col-5 col-sm-5 col-md-3 col-lg-4">
                          <div matTooltip="{{item.AssetTypeName}}">
                            {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}}
                          </div>
                        </td>
                        <td *ngIf="(item.StateOfBattery!=undefined?item.StateOfBattery>=80:item.StateOfCharge>=80)"
                          class="col-5  col-sm-5 col-md-5 col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td
                          *ngIf="(item.StateOfBattery!=undefined?(item.StateOfBattery<=79 && item.StateOfBattery>=26):(item.StateOfCharge<=79 && item.StateOfCharge>=26))"
                          class="col-5  col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td
                          *ngIf="(item.StateOfBattery!=undefined?(item.StateOfBattery<=25 && item.StateOfBattery>=1):(item.StateOfCharge<=25 && item.StateOfCharge>=1))"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="margin-top:2.2%;">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.StateOfBattery==0 || item.StateOfCharge==0" text-align="center"
                          class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5" style="padding-left:3%;">
                          {{item.StateOfBattery!=undefined?'No Avg State':'No AH Time'}}</td>
                        <td text-align="center" class="col-1 col-sm-1 col-md-1  col-lg-1">
                          {{item.StateOfBattery}}{{item.StateOfCharge}}%</td>
                      </tr>
                    </table>
                  </div>
                </div>


              </div>
              <!-- <div *ngIf="editWidgetFlag && average" (click)="average=!average" class="text-center mt-4"><img
                    src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div> -->
              <div *ngIf="editWidgetFlag && !average" (click)="average=!average" class="text-center mt-4"><img
                  src="../../../assets/icon/icons-show-ic.png" alt=""> <span class="hide-text pl-1">SHOW</span></div>
            </div>
          </div>
          <!-- Site monitor Hottest coloumns -->
          <div *ngIf="tempHottest && !hottest && batteriesEnable" class="col-md-12 col-lg-4 col-xl-4 m-b-25"
            id="tempHottest">
            <div class="dash-box pad-10">
              <div class="container pl-4">
                <div class="row">
                  <div class="col-9 prodictive-title1 pad-0 m-b-25 productive-align-one">
                    <div id="productive" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                        aria-controls="dropdown-basic"
                        class="prod-text cursor">
                        TEMPERATURE
                        <img class="cursor" (click)="loadMostHottest(filterType,prodictivBatCharHottesType,hottests == 'MOST HOT BATTERY'?'LEAST HOT BATTERY':'MOST HOT BATTERY')"
                        src="{{hottests != 'MOST HOT BATTERY'?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                        alt="{{hottests != 'MOST HOT BATTERY'?'down-arrow':'up-arrow'}}">
                      </a>
                      
                    </div>
                    <div id="mostHottestType" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                        aria-controls="dropdown-basic"
                        class="prod-text cursor"
                        matTooltip="{{mostHottestType}}">
                        {{!maxScreen && mostHottestType?.length>5?mostHottestType.substring(0,4)+'...':mostHottestType}}
                      </a>
                      <ul id="dropdown-basic" *dropdownMenu role="menu" aria-labelledby="button-basic"
                        class="dropdown-menu dropdown-menu-right zero-border">
                        <div *ngFor="let type of mostHottestTypeList;let i=index;">
                          <div id="mostAverageType{{i}}" (click)="loadMostHottest(type)" class="alarm-txt filter-dropdownList-height"
                            [ngClass]="{'active-alarmmenu':type==mostHottestType}">{{type}}</div>
                        </div>
                      </ul>
                    </div>
                  </div>
                  <div *ngIf="(overView && mostHottestDatas.length>5) || (!overView && mostHottestDatas.length>10)"
                    class="col-3 prodictive-show pad-0 m-b-25 text-center" (click)="openMostHottest()">Show
                    all
                  </div>
                  <div *ngIf="mostHottestDatas.length==0"></div>
                </div>
              </div>
              <div class="row">
                <div class="col-4 col-md-4 col-lg-6 col-xl-4 mt-2 pad-0 margin-8"
                  (click)="loadMostHottest(mostHottestType,'batteries')">
                  <div>
                    <div id="productivebatteries2" class="text-center prodictive-item"
                      [ngClass]="{'active-prodictive': prodictivBatCharHottesType=='batteries'}">
                      Batteries
                    </div>
                  </div>
                </div>
                <div class="col-4 pad-0"></div>
              </div>

              <div [ngClass]="{'productivity-table-top': mostHottestType=='PAST 2 WEEKS'}" class="row">
                <div class="col-12">
                  <div class="empty-widget-msg" *ngIf="mostHottestDatas.length==0">No data available</div>
                  <!-- If -->
                  <div class="widget-table1" *ngIf="!overView && mostHottestDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-7">

                      <tr class="row" *ngFor="let item of mostHottestDatas| slice:0:10; let ind=index;">
                        <td class="col-1 col-md-1 col-sm-1">
                        </td>
                        <td class="individual-site-click col-5  col-sm-5 col-md-3 col-lg-4">
                          <div (click)="siteidis(item)" matTooltip="{{item.SiteName}}">
                            <!-- {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}} -->
                            {{item.SiteName?.length>13?item.SiteName.substring(0,11)+'...':item.SiteName}}
                          </div>
                        </td>
                        <td *ngIf="item.HottestBattery>=80" class="col-5 col-sm-5 col-md-5 col-lg-5 margin-3">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td *ngIf="item.HottestBattery<=79 && item.HottestBattery>=26"
                          class="col-5  col-sm-5 col-md-5 col-lg-5 margin-3 col-lg-5">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.HottestBattery<=25 && item.HottestBattery>=1"
                          class="col-5 col-sm-5 col-md-5 col-lg-5 margin-3 col-lg-5">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.HottestBattery==0" class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5"
                          style="padding-left:3%;">No Hot Battery
                        </td>
                        <td text-align="center" class="col-1  col-sm-1 col-md-1  col-lg-1">
                          {{item.HottestBattery}}</td>

                      </tr>

                    </table>
                  </div>
                  <!-- Else -->
                  <div class="singlesite-widget" *ngIf="overView && mostHottestDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">
                      <tr *ngFor="let item of mostHottestDatas| slice:0:5; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="individual-site-click col-5 col-sm-5 col-md-3 col-lg-4">
                          <div matTooltip="{{item.AssetTypeName}}">
                            {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}}
                          </div>
                        </td>
                        <td *ngIf="item.HottestBattery>=80" class="col-5 margin-3 col-sm-5 col-md-5 col-lg-5">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td *ngIf="item.HottestBattery<=79 && item.HottestBattery>=26"
                          class="col-5  col-sm-5 col-md-5 col-lg-5 margin-3 col-lg-5">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.HottestBattery<=25 && item.HottestBattery>=1"
                          class="col-5 col-sm-5 col-md-5 col-lg-5 margin-3 col-lg-5">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="item.HottestBattery==0" class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5"
                          style="padding-left:3%;">No Hot Battery
                        </td>
                        <td text-align="center" class="col-1 col-sm-1 col-md-1  col-lg-1">
                          {{item.HottestBattery}}</td>
                      </tr>
                    </table>
                  </div>
                </div>


              </div>
              <!-- <div *ngIf="editWidgetFlag && hottest" (click)="hottest=!hottest" class="text-center mt-4"><img
                    src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div> -->
              <div *ngIf="editWidgetFlag && !hottest" (click)="hottest=!hottest" class="text-center mt-4"><img
                  src="../../../assets/icon/icons-show-ic.png" alt=""> <span class="hide-text pl-1">SHOW</span></div>
            </div>
          </div>

          <!-- Site monitor Ecalarm coloumns -->
          <div *ngIf="tempEcAlarm && !ecAlarm && (batteriesEnable || chargesEnable)"
            class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="tempEcAlarm">
            <div class="dash-box pad-10">
              <div class="container pl-4">
                <div class="row">
                  <div class="col-9 prodictive-title1 pad-0 m-b-25 productive-align-one">
                    <!--batteries-->
                    <div *ngIf="prodictivEcAlarmType=='batteries'" id="productive" class="btn-group" dropdown> <a
                        id="button-basic" dropdownToggle aria-controls="dropdown-basic"
                        class="prod-text cursor">
                        ALARMS
                        <img class="cursor" (click)="loadMostEcAlarm(null,null,type)"
                        src="{{isAscendingOrderECalarm?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                        matTooltip="{{isAscendingOrderECalarm?'Least':'Most'}}"
                        alt="{{isAscendingOrderECalarm?'down-arrow':'up-arrow'}}">
                      </a>
                     
                    </div>
                    <!--Charges-->
                    <div *ngIf="prodictivEcAlarmType=='charges'" id="productive2" class="btn-group" dropdown> <a
                        id="button-basic" dropdownToggle aria-controls="dropdown-basic"
                        class="prod-text cursor">
                        FAULT CODES
                        <img class="cursor" (click)="loadMostEcAlarm(null,null,type)"
                        src="{{isAscendingOrderFaultcode?'../../../assets/icon/dropdown-teal-ic.png':'../../../assets/icon/dropdown-teal-ic2.png'}}"
                        matTooltip="{{isAscendingOrderFaultcode?'Least':'Most'}}"
                        alt="{{isAscendingOrderFaultcode?'down-arrow':'up-arrow'}}">
                      </a>
                     
                    </div>
                    <div id="mostEcAlarmType" class="btn-group" dropdown> <a id="button-basic" dropdownToggle
                        aria-controls="dropdown-basic"
                        class="prod-text cursor"
                        matTooltip="{{mostEcAlarmType}}">
                        {{!maxScreen && mostEcAlarmType?.length>4?mostEcAlarmType.substring(0,3)+'...':mostEcAlarmType}}
                      </a>
                      
                    </div>
                  </div>
                  <div *ngIf="(overView && mostEcAlarmDatas.length>5) || (!overView && mostEcAlarmDatas.length>10)"
                    class="col-3 prodictive-show pad-0 text-center" (click)="openMostAlarmOrCharges()">Show
                    all
                  </div>
                  <div *ngIf="mostEcAlarmDatas.length==0"></div>
                </div>
              </div>
              <div class="row">
                <div class="margin-8"></div>
                <div *ngIf="batteriesEnable" class="col-4 col-md-4 col-lg-6 col-xl-4 mt-2 pad-0"
                  (click)="loadMostEcAlarm(mostEcAlarmType,'batteries')">
                  <div>
                    <div id="productivebatteries2" class="text-center prodictive-item"
                      [ngClass]="{'active-prodictive': prodictivEcAlarmType=='batteries'}">
                      Batteries
                    </div>
                  </div>
                </div>
                <div *ngIf="chargesEnable" class="col-4 pad-0 mt-2 widget-align"
                  (click)="loadMostEcAlarm(mostEcAlarmType,'charges')">
                  <div>
                    <div id="productivecharges2" class="text-center prodictive-item"
                      [ngClass]="{'active-prodictive': prodictivEcAlarmType=='charges'}">
                      Chargers
                    </div>
                  </div>
                </div>
                <div class="col-4 pad-0"></div>
              </div>

              <div [ngClass]="{'productivity-table-top': mostEcAlarmType=='PAST 2 WEEKS'}" class="row">
                <div class="col-12">
                  <div class="empty-widget-msg" *ngIf="mostEcAlarmDatas.length==0">No data available</div>
                  <!-- If -->
                  <div class="widget-table1" *ngIf="!overView && mostEcAlarmDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-7">

                      <tr class="row" *ngFor="let item of mostEcAlarmDatas| slice:0:10; let ind=index;">
                        <td class="col-1 col-md-1 col-sm-1">
                        </td>
                        <td class="individual-site-click col-5  col-sm-5 col-md-3 col-lg-4">
                          <div (click)="siteidis(item)" matTooltip="{{item.SiteName}}">
                            {{item.SiteName?.length>13?item.SiteName.substring(0,11)+'...':item.SiteName}}
                          </div>
                        </td>
                        <td *ngIf="(item.AllAlarms!=undefined?item.AllAlarms>=80:item.AllFaults>=80)"
                          class="col-5 margin-3 col-sm-5 col-md-5 col-lg-5">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td
                          *ngIf="(item.AllAlarms!=undefined?(item.AllAlarms<=79 && item.AllAlarms>=26):(item.AllFaults<=79 && item.AllFaults>=26))"
                          class="col-5  col-sm-5 col-md-5 col-lg-5 margin-3 col-lg-5">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#e6b252'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td
                          *ngIf="(item.AllAlarms!=undefined?(item.AllAlarms<=25 && item.AllAlarms>=1):(item.AllFaults<=25 && item.AllFaults>=1))"
                          class="col-5 col-sm-5 col-md-5 col-lg-5 margin-3 col-lg-5">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#e7f04d'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="(item.AllAlarms!=undefined?(item.AllAlarms==0):(item.AllFaults==0))"
                          text-align="center" class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5"
                          style="padding-left:3%;">
                          {{item.AllAlarms!=undefined?'No Alarms':'No Fault Codes'}}</td>
                        <td text-align="center" class="col-1  col-sm-1 col-md-1  col-lg-1">
                          {{item.AllAlarms}}{{item.AllFaults}}</td>

                      </tr>

                    </table>
                  </div>
                  <!-- Else -->
                  <div class="singlesite-widget" *ngIf="overView && mostEcAlarmDatas.length!=0">
                    <table cellpadding="0" cellspacing="0" class="prodictive-table m-t-15">
                      <tr *ngFor="let item of mostEcAlarmDatas| slice:0:5; let ind=index;" class="row">
                        <td class="col-1 col-sm-1 col-md-1">
                        </td>
                        <td class="individual-site-click col-5 col-sm-5 col-md-3 col-lg-4">
                          <div matTooltip="{{item.AssetTypeName}}">
                            {{item.AssetTypeName?.length>13?item.AssetTypeName.substring(0,11)+'...':item.AssetTypeName}}
                          </div>
                        </td>
                        <td *ngIf="(item.AllAlarms!=undefined?item.AllAlarms>=80:item.AllFaults>=80)"
                          class="col-5 margin-3 col-sm-5 col-md-5 col-lg-5">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#73e100'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>

                        <td
                          *ngIf="(item.AllAlarms!=undefined?(item.AllAlarms<=79 && item.AllAlarms>=26):(item.AllFaults<=79 && item.AllFaults>=26))"
                          class="col-5  col-sm-5 col-md-5 col-lg-5 margin-3 col-lg-5">
                          <div class="progress prodictive-progress"
                            [ngStyle]="{'width':item.range+'%','background': '#dee652'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td
                          *ngIf="(item.AllAlarms!=undefined?(item.AllAlarms<=25 && item.AllAlarms>=1):(item.AllFaults<=25 && item.AllFaults>=1))"
                          class="col-5 col-sm-5 col-md-5 col-lg-5 margin-3 col-lg-5">
                          <div class="progress prodictive-progress low-warn"
                            [ngStyle]="{'width':item.range+'%','background': '#ff0446'}">
                            <div class="progress-bar prodictive-progress-bar" role="progressbar" aria-valuenow="90"
                              aria-valuemin="0" aria-valuemax="100">
                            </div>
                          </div>
                        </td>
                        <td *ngIf="(item.AllAlarms!=undefined?(item.AllAlarms==0):(item.AllFaults==0))"
                          text-align="center" class="col-5 col-sm-5 col-md-5 col-lg-5  col-lg-5"
                          style="padding-left:3%;">
                          {{item.AllAlarms!=undefined?'No Alarms':'No Fault Codes'}}</td>
                        <td text-align="center" class="col-1 col-sm-1 col-md-1  col-lg-1">
                          {{item.AllAlarms}}{{item.AllFaults}}</td>
                      </tr>
                    </table>
                  </div>
                </div>


              </div>
              <!-- <div *ngIf="editWidgetFlag && ecAlarm" (click)="ecAlarm=!ecAlarm" class="text-center mt-4"><img
                    src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div> -->
              <div *ngIf="editWidgetFlag && !ecAlarm" (click)="ecAlarm=!ecAlarm" class="text-center mt-4"><img
                  src="../../../assets/icon/icons-show-ic.png" alt=""> <span class="hide-text pl-1">SHOW</span></div>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="editWidgetFlag">
          <!-- Site monitor safety coloumns -->
          <div *ngIf="tempSafety && !Safety && equipment" class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="safety">
            <div class="dash-box pad-10 final-resolution-align" style="min-height:89% !important">
              <div class="row mar-0">
                <div class="col-11 prodictive-title pad-0"><span>SAFETY COMPLIANCE</span>
                  
                </div>
                <div class="col-1 prodictive-show pad-0 text-right"></div>
                <div class="col-12 final-resolution-row pad-0">
                  <table cellpadding="0" cellspacing="0" class="communication-table m-t-25">
                    <tr>
                      <td width="34%">
                        <h6>{{saftyComplainceDatas?.Lockout}}</h6>
                        <p>MAINTENANCE LOCKOUT</p>
                      </td>
                      <td width="32%" valign="top">
                        <h6>{{saftyComplainceDatas?.Logout}}</h6>
                        <p>LOGOUT</p>
                      </td>
                      <td width="34%">
                        <h6>{{saftyComplainceDatas?.SkippedChecklist}}</h6>
                        <p>SKIPPED CHECKLIST</p>
                      </td>
                    </tr>
                  </table>
                  <div *ngIf="editWidgetFlag && !Safety" (click)="Safety=!Safety"
                class="text-center mt-5 battery-high-resolution-hide"><img src="../../../assets/icon/icons-show-ic.png"
                  alt=""> <span class="hide-text pl-1">SHOW</span></div>
                </div>
                <!-- date picker start -->
                <!-- <div class="col-2 pad-0 text-right"><img src="assets/icon/arrow-left.png"
                    (click)="saftyComArrow('left')" class="batteries-arrow"></div>

                <div class="col-8 pad-0 text-center" style="cursor: pointer;">
                  <p class="batteries-date3">{{fromDateSafty}} - {{toDateSafty}}</p>
                </div>
                <div class="col-2 pad-0 text-left"><img src="assets/icon/arrow-right.png"
                    (click)="saftyComArrow('right')" class="batteries-arrow"></div> -->
                    <!-- date picker end -->
              </div>
              <!-- <div *ngIf="editWidgetFlag && Safety" (click)="Safety=!Safety" class="text-center mt-4"><img src="../../../assets/icon/hide-ic.png"
                alt=""> <span class="hide-text pl-1">HIDE</span></div> -->
              
            </div>
          </div>

          <!-- Site monitor maintenance coloumns -->
          <div *ngIf="tempMaintenance && !Maintenance && equipment" class="col-md-12 col-lg-4 col-xl-4 m-b-25"
            id="maintenance">
            <div class="dash-box pad-10 large-screen-size">
              <div class="row mar-0">
                <div class="col-11 prodictive-title pad-0"><span>MAINTENANCE</span></div>
                <div class="col-1 prodictive-show pad-0 text-right"></div>
                <div class="col-12 pad-0">
                  <canvas *ngIf="!noMaintenceRecord" #doughnutChart id="doughnutChart2" class="responsive-dohnut"
                    style="margin: 5px 0px;"></canvas>
                  <div class="empty-widget-msg" *ngIf="noMaintenceRecord">No data available</div>
                </div>

              </div>
              <!-- <div *ngIf="editWidgetFlag && Maintenance" (click)="Maintenance=!Maintenance" class="text-center mt-4"><img
                src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div> -->
              <div *ngIf="editWidgetFlag && !Maintenance" (click)="changeMaintenance()" class="text-center pt-3 mt-4">
                <img src="../../../assets/icon/icons-show-ic.png" alt=""> <span class="hide-text pl-1">SHOW</span></div>
            </div>
          </div>
          <!-- Site monitor batteries coloumns -->
          <div *ngIf="tempBatteries && !Batteries && batteriesEnable" class="col-md-12 col-lg-4 col-xl-4 m-b-25"
            id="batteries">
            <div class="dash-box pad-10 final-resolution-align" style="min-height:89% !important">
              <div class="row mar-0">
                <div class="col-11 prodictive-title pad-0"><span>BATTERIES</span>
            
                </div>
                <div class="col-1 prodictive-show pad-0 text-right"></div>
                <div class="col-12 pad-0">
                  <table cellpadding="0" cellspacing="0" class="communication-table m-t-25">
                    <tr>
                      <td width="33%">
                        <h6>{{batteriesDatas?.ChargeHours}}<span>hrs</span></h6>
                        <p class="charged-txt">CHARGED
                        </p>
                      </td>
                      <td width="34%" valign="top">
                        <h6>{{batteriesDatas?.DischargeHours}}<span>hrs</span></h6>
                        <p>DISCHARGED</p>
                      </td>
                      <td width="33%" valign="top">
                        <h6>{{batteriesDatas?.IdleHours}}<span>hrs</span></h6>
                        <p>IDLE</p>
                      </td>
                    </tr>
                  </table>
                  <div *ngIf="editWidgetFlag && !Batteries" (click)="Batteries=!Batteries"
                  class="text-center mt-5 battery-high-resolution-hide"><img src="../../../assets/icon/icons-show-ic.png"
                    alt=""> <span class="hide-text pl-1">SHOW</span></div>
                </div>
                        <!-- date picker start -->

                <!-- <div class="col-2 pad-0 text-right" style="padding-top:4%;"><img src="assets/icon/arrow-left.png"
                    class="batteries-arrow2" (click)="batteriesComArrow('left')"></div>

                <div class="col-8 pad-0 text-center date-arrow-class" style="cursor: pointer;">
                  <p class="batteries-date3" style="margin-top:13.5px">{{fromDateBatter}} - {{toDateBatter}} </p>
                </div>
                <div class="col-2 pad-0 text-left" style="padding-top:4%;"><img src="assets/icon/arrow-right.png"
                    class="batteries-arrow2" (click)="batteriesComArrow('right')"></div> -->
                      
                        <!-- date picker end -->

              </div>
              <!-- <div *ngIf="editWidgetFlag && Batteries" (click)="Batteries=!Batteries" class="text-center mt-4"><img src="../../../assets/icon/hide-ic.png"
                alt=""> <span class="hide-text pl-1">HIDE</span></div> -->
          
            </div>
          </div>
          <!-- Site Equalization -->
          <div *ngIf="tempEqualization && !equalization && batteriesEnable" class="col-md-12 col-lg-4 col-xl-4 m-b-25"
            id="maintenance">
            <div class="dash-box pad-10 large-screen-size">
              <div class="row mar-0">
                <div class="col-11 prodictive-title pad-0"><span>EQUALIZATION BATTERIES</span></div>
                <div class="col-1 prodictive-show pad-0 text-right"></div>
                <div class="col-12 pad-0">
                  <canvas *ngIf="!equalizationRecord" #doughnutChartEqualization id="doughnutChartEqualization"
                    class="responsive-dohnut" style="margin: 5px 0px;"></canvas>
                  <div class="empty-widget-msg" *ngIf="equalizationRecord">No data available</div>
                </div>

              </div>
              <!-- <div *ngIf="editWidgetFlag && equalization" (click)="changeEqualization()" class="text-center mt-4"><img
                  src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div> -->
              <div *ngIf="editWidgetFlag && !equalization" (click)="changeEqualization()" class="text-center mt-4"><img
                  src="../../../assets/icon/icons-show-ic.png" alt=""> <span class="hide-text pl-1">SHOW</span></div>
            </div>
          </div>
          <!-- Site Equalization -->
          <div *ngIf="tempEqualizationCharge && !equalizationCharge && chargesEnable"
            class="col-md-12 col-lg-4 col-xl-4 m-b-25" id="equalizationCharge">
            <div class="dash-box pad-10 large-screen-size">
              <div class="row mar-0">
                <div class="col-11 prodictive-title pad-0"><span>EQUALIZATION CHARGERS</span></div>
                <div class="col-1 prodictive-show pad-0 text-right"></div>
                <div class="col-12 pad-0">
                  <canvas *ngIf="!equalizationChargRecord" #doughnutChartEqualizationCharge
                    id="doughnutChartEqualizationCharge" class="responsive-dohnut" style="margin: 5px 0px;"></canvas>
                  <div class="empty-widget-msg" *ngIf="equalizationChargRecord">No data available</div>
                </div>

              </div>
              <!-- <div *ngIf="editWidgetFlag && equalizationCharge" (click)="changeEqualizationCharge()"
                 class="text-center mt-4"><img src="../../../assets/icon/hide-ic.png" alt=""> <span
                   class="hide-text pl-1">HIDE</span></div> -->
              <div *ngIf="editWidgetFlag && !equalizationCharge" (click)="changeEqualizationCharge()"
                class="text-center mt-4"><img src="../../../assets/icon/icons-show-ic.png" alt=""> <span
                  class="hide-text pl-1">SHOW</span></div>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="editWidgetFlag">
          <!-- Site monitor safety coloumns -->
          <div *ngIf="tempCommunication && !Communication && (equipment || chargesEnable || batteriesEnable)"
            class="col-md-12 col-lg-3 col-xl-3 m-b-25" id="communication">
            <div class="dash-box-communication pad-15 final-box-communication-div">
              <div class="row mar-0">
                <div class="col-11 prodictive-title pad-0"><span>COMMUNICATION</span></div>
                <div class="col-1 prodictive-show pad-0 text-right"></div>
                <div class="col-12 pad-0">
                  <table cellpadding="0" cellspacing="0" class="communication-table m-t-25 m-b-10">
                    <tr>
                      <td width="50%">
                        <h6>{{communicationDatas?.OutOfRange}}</h6>
                        <p>OUT OF RANGE</p>
                      </td>
                      <td width="50%">
                        <h6 style="color:#4a4a4a">{{communicationDatas?.OverAllAssests}}</h6>
                        <p>OVERALL ASSETS</p>
                      </td>
                    </tr>
                  </table>
                  <!-- <div *ngIf="editWidgetFlag && Communication" (click)="Communication=!Communication" class="text-center mt-4"><img
                    src="../../../assets/icon/hide-ic.png" alt=""> <span class="hide-text pl-1">HIDE</span></div> -->
                  <div *ngIf="editWidgetFlag && !Communication" (click)="Communication=!Communication"
                    class="text-center mt-4"><img src="../../../assets/icon/icons-show-ic.png" alt=""> <span
                      class="hide-text pl-1">SHOW</span></div>
                </div>
              </div>
            </div>
          </div>

        </div>


        <!-- End Site monitor 7 coloumns -->

      </div>
      <div class="col-md-1 col-lg-1 col-xl-1 col-1"></div>

    </div>
  </div>